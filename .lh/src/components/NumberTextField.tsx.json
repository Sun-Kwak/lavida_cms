{
    "sourceFile": "src/components/NumberTextField.tsx",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 3,
            "patches": [
                {
                    "date": 1762339020742,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1762339515355,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -21,12 +21,12 @@\n   $error?: boolean; \n   $width?: string;\n }>`\n   width: ${props => props.$width || '100%'};\n-  height: 36px;\n-  padding: 8px 12px;\n-  border: 1px solid ${props => props.$error ? AppColors.error : '#ddd'};\n-  border-radius: 4px;\n+  min-height: 48px;\n+  padding: 14px 16px;\n+  border: 1px solid ${props => props.$error ? AppColors.error : AppColors.borderLight};\n+  border-radius: 12px;\n   font-size: 14px;\n   font-family: inherit;\n   background: ${AppColors.surface};\n   color: ${AppColors.onSurface};\n@@ -46,13 +46,14 @@\n   \n   &:focus {\n     outline: none;\n     border-color: ${props => props.$error ? AppColors.error : AppColors.primary};\n-    box-shadow: 0 0 0 2px ${props => props.$error ? AppColors.error : AppColors.primary}20;\n+    box-shadow: 0 0 0 3px rgba(55, 187, 214, 0.1);\n   }\n   \n   &:hover:not(:disabled) {\n     border-color: ${props => props.$error ? AppColors.error : AppColors.primary};\n+    box-shadow: 0 2px 8px rgba(55, 187, 214, 0.1);\n   }\n   \n   &:disabled {\n     background-color: ${AppColors.background};\n"
                },
                {
                    "date": 1762339784050,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -101,19 +101,10 @@\n     // 숫자만 허용 (음수, 소수점 포함)\n     const numericValue = parseFloat(inputValue);\n     \n     if (!isNaN(numericValue)) {\n-      // min/max 범위 체크\n-      let finalValue = numericValue;\n-      \n-      if (min !== undefined && finalValue < min) {\n-        finalValue = min;\n-      }\n-      if (max !== undefined && finalValue > max) {\n-        finalValue = max;\n-      }\n-      \n-      onChange(finalValue);\n+      // 실시간 min/max 범위 체크 제거 - 입력 과정에서는 자유롭게 입력 허용\n+      onChange(numericValue);\n     }\n   };\n \n   const handleKeyDown = (e: React.KeyboardEvent<HTMLInputElement>) => {\n@@ -153,9 +144,28 @@\n     \n     // 빈 값이고 allowEmpty가 false인 경우 0으로 설정\n     if (!allowEmpty && (inputValue === '' || inputValue === '-')) {\n       onChange(0);\n+      return;\n     }\n+    \n+    // 포커스를 잃을 때 min/max 범위 체크 및 수정\n+    const numericValue = parseFloat(inputValue);\n+    if (!isNaN(numericValue)) {\n+      let finalValue = numericValue;\n+      \n+      if (min !== undefined && finalValue < min) {\n+        finalValue = min;\n+      }\n+      if (max !== undefined && finalValue > max) {\n+        finalValue = max;\n+      }\n+      \n+      // 범위를 벗어난 경우에만 값을 수정\n+      if (finalValue !== numericValue) {\n+        onChange(finalValue);\n+      }\n+    }\n   };\n \n   // 값 표시 처리\n   const displayValue = (() => {\n"
                },
                {
                    "date": 1762339949632,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -7,10 +7,8 @@\n   onChange: (value: number | undefined) => void; // undefined도 허용\n   placeholder?: string;\n   disabled?: boolean;\n   error?: boolean;\n-  min?: number;\n-  max?: number;\n   step?: number;\n   width?: string;\n   allowEmpty?: boolean; // 빈 값을 허용할지 여부\n   className?: string;\n@@ -73,10 +71,8 @@\n   onChange,\n   placeholder = \"숫자를 입력하세요\",\n   disabled = false,\n   error = false,\n-  min,\n-  max,\n   step,\n   width,\n   allowEmpty = false,\n   className,\n@@ -146,26 +142,8 @@\n     if (!allowEmpty && (inputValue === '' || inputValue === '-')) {\n       onChange(0);\n       return;\n     }\n-    \n-    // 포커스를 잃을 때 min/max 범위 체크 및 수정\n-    const numericValue = parseFloat(inputValue);\n-    if (!isNaN(numericValue)) {\n-      let finalValue = numericValue;\n-      \n-      if (min !== undefined && finalValue < min) {\n-        finalValue = min;\n-      }\n-      if (max !== undefined && finalValue > max) {\n-        finalValue = max;\n-      }\n-      \n-      // 범위를 벗어난 경우에만 값을 수정\n-      if (finalValue !== numericValue) {\n-        onChange(finalValue);\n-      }\n-    }\n   };\n \n   // 값 표시 처리\n   const displayValue = (() => {\n@@ -188,10 +166,8 @@\n       placeholder={placeholder}\n       disabled={disabled}\n       $error={error}\n       $width={width}\n-      min={min}\n-      max={max}\n       step={step}\n       className={className}\n       style={style}\n       inputMode=\"numeric\" // 모바일에서 숫자 키패드 표시\n"
                }
            ],
            "date": 1762339020742,
            "name": "Commit-0",
            "content": "import React from 'react';\nimport styled from 'styled-components';\nimport { AppColors } from '../styles/colors';\n\ninterface NumberTextFieldProps {\n  value: number | string;\n  onChange: (value: number | undefined) => void; // undefined도 허용\n  placeholder?: string;\n  disabled?: boolean;\n  error?: boolean;\n  min?: number;\n  max?: number;\n  step?: number;\n  width?: string;\n  allowEmpty?: boolean; // 빈 값을 허용할지 여부\n  className?: string;\n  style?: React.CSSProperties; // 스타일 prop 추가\n}\n\nconst NumberInput = styled.input<{ \n  $error?: boolean; \n  $width?: string;\n}>`\n  width: ${props => props.$width || '100%'};\n  height: 36px;\n  padding: 8px 12px;\n  border: 1px solid ${props => props.$error ? AppColors.error : '#ddd'};\n  border-radius: 4px;\n  font-size: 14px;\n  font-family: inherit;\n  background: ${AppColors.surface};\n  color: ${AppColors.onSurface};\n  box-sizing: border-box;\n  transition: all 0.2s ease;\n  \n  /* 스피너 버튼 제거 */\n  appearance: none;\n  -webkit-appearance: none;\n  -moz-appearance: textfield;\n  \n  &::-webkit-outer-spin-button,\n  &::-webkit-inner-spin-button {\n    -webkit-appearance: none;\n    margin: 0;\n  }\n  \n  &:focus {\n    outline: none;\n    border-color: ${props => props.$error ? AppColors.error : AppColors.primary};\n    box-shadow: 0 0 0 2px ${props => props.$error ? AppColors.error : AppColors.primary}20;\n  }\n  \n  &:hover:not(:disabled) {\n    border-color: ${props => props.$error ? AppColors.error : AppColors.primary};\n  }\n  \n  &:disabled {\n    background-color: ${AppColors.background};\n    color: ${AppColors.disabled};\n    cursor: not-allowed;\n    border-color: ${AppColors.borderLight};\n  }\n  \n  &::placeholder {\n    color: ${AppColors.onInput1};\n    opacity: 0.7;\n  }\n`;\n\nconst NumberTextField: React.FC<NumberTextFieldProps> = ({\n  value,\n  onChange,\n  placeholder = \"숫자를 입력하세요\",\n  disabled = false,\n  error = false,\n  min,\n  max,\n  step,\n  width,\n  allowEmpty = false,\n  className,\n  style\n}) => {\n  const handleChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const inputValue = e.target.value;\n    \n    // 빈 값 처리\n    if (inputValue === '' || inputValue === '-') {\n      if (allowEmpty) {\n        // 빈 값을 허용하는 경우 undefined 전달\n        onChange(undefined);\n        return;\n      } else {\n        // 빈 값을 허용하지 않는 경우 0으로 설정\n        onChange(0);\n        return;\n      }\n    }\n    \n    // 숫자만 허용 (음수, 소수점 포함)\n    const numericValue = parseFloat(inputValue);\n    \n    if (!isNaN(numericValue)) {\n      // min/max 범위 체크\n      let finalValue = numericValue;\n      \n      if (min !== undefined && finalValue < min) {\n        finalValue = min;\n      }\n      if (max !== undefined && finalValue > max) {\n        finalValue = max;\n      }\n      \n      onChange(finalValue);\n    }\n  };\n\n  const handleKeyDown = (e: React.KeyboardEvent<HTMLInputElement>) => {\n    // 허용되는 키: 숫자, 백스페이스, 삭제, 탭, 엔터, 화살표, 마이너스, 소수점\n    const allowedKeys = [\n      'Backspace', 'Delete', 'Tab', 'Enter', 'Escape',\n      'ArrowLeft', 'ArrowRight', 'ArrowUp', 'ArrowDown',\n      'Home', 'End'\n    ];\n    \n    const allowedChars = ['0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '.', '-'];\n    \n    if (allowedKeys.includes(e.key)) {\n      return; // 허용되는 키는 그대로 통과\n    }\n    \n    if (!allowedChars.includes(e.key)) {\n      e.preventDefault(); // 허용되지 않는 문자는 차단\n      return;\n    }\n    \n    // 소수점은 하나만 허용\n    if (e.key === '.' && e.currentTarget.value.includes('.')) {\n      e.preventDefault();\n      return;\n    }\n    \n    // 마이너스는 맨 앞에만 허용\n    if (e.key === '-' && e.currentTarget.selectionStart !== 0) {\n      e.preventDefault();\n      return;\n    }\n  };\n\n  const handleBlur = (e: React.FocusEvent<HTMLInputElement>) => {\n    const inputValue = e.target.value;\n    \n    // 빈 값이고 allowEmpty가 false인 경우 0으로 설정\n    if (!allowEmpty && (inputValue === '' || inputValue === '-')) {\n      onChange(0);\n    }\n  };\n\n  // 값 표시 처리\n  const displayValue = (() => {\n    if (value === undefined || value === null) {\n      return '';\n    }\n    if (value === 0 && allowEmpty) {\n      return '';\n    }\n    return value.toString();\n  })();\n\n  return (\n    <NumberInput\n      type=\"text\" // number 대신 text를 사용해서 더 자유로운 입력 허용\n      value={displayValue}\n      onChange={handleChange}\n      onKeyDown={handleKeyDown}\n      onBlur={handleBlur}\n      placeholder={placeholder}\n      disabled={disabled}\n      $error={error}\n      $width={width}\n      min={min}\n      max={max}\n      step={step}\n      className={className}\n      style={style}\n      inputMode=\"numeric\" // 모바일에서 숫자 키패드 표시\n    />\n  );\n};\n\nexport default NumberTextField;"
        }
    ]
}