{
    "sourceFile": "src/utils/devDBUtils.ts",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 1,
            "patches": [
                {
                    "date": 1759899370645,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1759912075500,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -39,15 +39,13 @@\n     await dbManager.clearAllData();\n     console.log('ëª¨ë“  ë°ì´í„°ê°€ ì‚­ì œë˜ì—ˆìŠµë‹ˆë‹¤.');\n   },\n \n-  // ìƒ˜í”Œ ë°ì´í„° ì¬ìƒì„±\n+  // ìƒ˜í”Œ ë°ì´í„° ì¬ìƒì„± (ì‹œìŠ¤í…œ ê´€ë¦¬ì ì¬ìƒì„±)\n   async resetSampleData() {\n     await this.clearAll();\n-    await dbManager.seedSampleData();\n-    const branches = await this.getAllBranches();\n-    console.log('ìƒ˜í”Œ ë°ì´í„°ê°€ ì¬ìƒì„±ë˜ì—ˆìŠµë‹ˆë‹¤.');\n-    return branches;\n+    // ì‹œìŠ¤í…œ ê´€ë¦¬ìëŠ” autoInitializeSystemì—ì„œ ìë™ìœ¼ë¡œ ìƒì„±ë¨\n+    console.log('ë°ì´í„°ê°€ ì´ˆê¸°í™”ë˜ì—ˆìŠµë‹ˆë‹¤. í˜ì´ì§€ë¥¼ ìƒˆë¡œê³ ì¹¨í•˜ë©´ ì‹œìŠ¤í…œ ê´€ë¦¬ìê°€ ìë™ ìƒì„±ë©ë‹ˆë‹¤.');\n   },\n \n   // IndexedDB ìƒíƒœ í™•ì¸\n   async getDBInfo() {\n"
                }
            ],
            "date": 1759899370645,
            "name": "Commit-0",
            "content": "/**\n * ê°œë°œì ë„êµ¬ìš© IndexedDB ê´€ë¦¬ í—¬í¼\n * ë¸Œë¼ìš°ì € ì½˜ì†”ì—ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ìœ í‹¸ë¦¬í‹° í•¨ìˆ˜ë“¤\n */\n\nimport { dbManager } from './indexedDB';\n\n// ê°œë°œì ë„êµ¬ì—ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ì „ì—­ í•¨ìˆ˜ë“¤\nexport const devDBUtils = {\n  // ëª¨ë“  ì§€ì  ì¡°íšŒ\n  async getAllBranches() {\n    const branches = await dbManager.getAllBranches();\n    console.table(branches);\n    return branches;\n  },\n\n  // ì§€ì  ì¶”ê°€ (ê°œë°œìš©)\n  async addTestBranch(name: string, address?: string, phone?: string) {\n    const result = await dbManager.addBranch({\n      name,\n      address,\n      phone,\n      isActive: true,\n    });\n    console.log('ì§€ì  ì¶”ê°€ë¨:', result);\n    return result;\n  },\n\n  // ì§€ì  ì‚­ì œ\n  async deleteBranch(id: string) {\n    const result = await dbManager.deleteBranch(id);\n    console.log(`ì§€ì  ${id} ì‚­ì œ ${result ? 'ì„±ê³µ' : 'ì‹¤íŒ¨'}`);\n    return result;\n  },\n\n  // ëª¨ë“  ë°ì´í„° ì‚­ì œ (ì£¼ì˜!)\n  async clearAll() {\n    console.warn('âš ï¸ ëª¨ë“  ë°ì´í„°ë¥¼ ì‚­ì œí•©ë‹ˆë‹¤. ì´ ì‘ì—…ì€ ë˜ëŒë¦´ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.');\n    await dbManager.clearAllData();\n    console.log('ëª¨ë“  ë°ì´í„°ê°€ ì‚­ì œë˜ì—ˆìŠµë‹ˆë‹¤.');\n  },\n\n  // ìƒ˜í”Œ ë°ì´í„° ì¬ìƒì„±\n  async resetSampleData() {\n    await this.clearAll();\n    await dbManager.seedSampleData();\n    const branches = await this.getAllBranches();\n    console.log('ìƒ˜í”Œ ë°ì´í„°ê°€ ì¬ìƒì„±ë˜ì—ˆìŠµë‹ˆë‹¤.');\n    return branches;\n  },\n\n  // IndexedDB ìƒíƒœ í™•ì¸\n  async getDBInfo() {\n    const branches = await dbManager.getAllBranches();\n    const info = {\n      totalBranches: branches.length,\n      activeBranches: branches.filter(b => b.isActive).length,\n      inactiveBranches: branches.filter(b => !b.isActive).length,\n      recentlyAdded: branches\n        .sort((a, b) => new Date(b.createdAt).getTime() - new Date(a.createdAt).getTime())\n        .slice(0, 5),\n    };\n    console.log('IndexedDB ìƒíƒœ:', info);\n    return info;\n  },\n\n  // ì§€ì  ê²€ìƒ‰\n  async searchBranches(keyword: string) {\n    const results = await dbManager.searchBranchesByName(keyword);\n    console.log(`\"${keyword}\" ê²€ìƒ‰ ê²°ê³¼:`, results);\n    return results;\n  },\n\n  // ëŒ€ëŸ‰ ë°ì´í„° ìƒì„± (í…ŒìŠ¤íŠ¸ìš©)\n  async generateTestData(count: number = 10) {\n    const testData = [];\n    for (let i = 1; i <= count; i++) {\n      const branch = await dbManager.addBranch({\n        name: `í…ŒìŠ¤íŠ¸ì§€ì ${i}`,\n        address: `í…ŒìŠ¤íŠ¸ì£¼ì†Œ${i}`,\n        phone: `010-${String(i).padStart(4, '0')}-${String(i).padStart(4, '0')}`,\n        isActive: Math.random() > 0.2, // 80% í™•ë¥ ë¡œ í™œì„±\n      });\n      testData.push(branch);\n    }\n    console.log(`${count}ê°œì˜ í…ŒìŠ¤íŠ¸ ë°ì´í„°ê°€ ìƒì„±ë˜ì—ˆìŠµë‹ˆë‹¤.`);\n    return testData;\n  },\n\n  // ë°ì´í„° ë‚´ë³´ë‚´ê¸° (JSON)\n  async exportData() {\n    const branches = await dbManager.getAllBranches();\n    const exportData = {\n      timestamp: new Date().toISOString(),\n      version: '1.0',\n      branches,\n    };\n    \n    const blob = new Blob([JSON.stringify(exportData, null, 2)], {\n      type: 'application/json',\n    });\n    \n    const url = URL.createObjectURL(blob);\n    const a = document.createElement('a');\n    a.href = url;\n    a.download = `lavida-branches-${new Date().toISOString().split('T')[0]}.json`;\n    document.body.appendChild(a);\n    a.click();\n    document.body.removeChild(a);\n    URL.revokeObjectURL(url);\n    \n    console.log('ë°ì´í„°ê°€ ë‚´ë³´ë‚´ê¸°ë˜ì—ˆìŠµë‹ˆë‹¤.');\n    return exportData;\n  },\n\n  // ì‚¬ìš©ë²• ì•ˆë‚´\n  help() {\n    console.log(`\n=== Lavida IndexedDB ê°œë°œì ë„êµ¬ ===\n\nì‚¬ìš© ê°€ëŠ¥í•œ ëª…ë ¹ì–´:\n- devDB.getAllBranches()          : ëª¨ë“  ì§€ì  ì¡°íšŒ\n- devDB.addTestBranch(name)       : í…ŒìŠ¤íŠ¸ ì§€ì  ì¶”ê°€\n- devDB.deleteBranch(id)          : ì§€ì  ì‚­ì œ\n- devDB.clearAll()                : ëª¨ë“  ë°ì´í„° ì‚­ì œ (ì£¼ì˜!)\n- devDB.resetSampleData()         : ìƒ˜í”Œ ë°ì´í„° ì¬ìƒì„±\n- devDB.getDBInfo()               : DB ìƒíƒœ ì •ë³´\n- devDB.searchBranches(keyword)   : ì§€ì  ê²€ìƒ‰\n- devDB.generateTestData(count)   : í…ŒìŠ¤íŠ¸ ë°ì´í„° ëŒ€ëŸ‰ ìƒì„±\n- devDB.exportData()              : ë°ì´í„° JSON ë‚´ë³´ë‚´ê¸°\n\nì˜ˆì‹œ:\ndevDB.addTestBranch(\"ì‹ ê·œì§€ì \", \"ì„œìš¸ì‹œ ê°•ë‚¨êµ¬\", \"02-1234-5678\")\ndevDB.searchBranches(\"ê°•ë‚¨\")\ndevDB.generateTestData(5)\n    `);\n  },\n};\n\n// ê°œë°œ í™˜ê²½ì—ì„œë§Œ ì „ì—­ ê°ì²´ì— ì¶”ê°€\nif (typeof window !== 'undefined' && process.env.NODE_ENV === 'development') {\n  (window as any).devDB = devDBUtils;\n  \n  // í˜ì´ì§€ ë¡œë“œ ì‹œ ì•ˆë‚´ ë©”ì‹œì§€\n  console.log(`\nğŸ—„ï¸ Lavida IndexedDB ê°œë°œì ë„êµ¬ê°€ í™œì„±í™”ë˜ì—ˆìŠµë‹ˆë‹¤!\nì½˜ì†”ì—ì„œ 'devDB.help()'ë¥¼ ì…ë ¥í•˜ì—¬ ì‚¬ìš©ë²•ì„ í™•ì¸í•˜ì„¸ìš”.\n  `);\n}\n"
        }
    ]
}