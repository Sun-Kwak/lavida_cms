{
    "sourceFile": "src/utils/weekUtils.ts",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 3,
            "patches": [
                {
                    "date": 1763870142263,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1763870835112,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -19,11 +19,16 @@\n   \n   if (dayOfWeek === 6) {\n     // 토요일이면 오늘이 주 시작\n     return saturday;\n+  } else if (dayOfWeek === 0) {\n+    // 일요일이면 어제(토요일)가 주 시작\n+    saturday.setDate(date.getDate() - 1);\n+    return saturday;\n   } else {\n-    // 아니면 이전 토요일 찾기\n-    const daysFromSaturday = (dayOfWeek + 1) % 7; // 일요일=1, 월요일=2, ..., 금요일=6\n+    // 월~금요일이면 지난 토요일 찾기\n+    // 월요일=2, 화요일=3, 수요일=4, 목요일=5, 금요일=6일 전\n+    const daysFromSaturday = dayOfWeek + 1;\n     saturday.setDate(date.getDate() - daysFromSaturday);\n     return saturday;\n   }\n };\n"
                },
                {
                    "date": 1763871123231,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -19,16 +19,12 @@\n   \n   if (dayOfWeek === 6) {\n     // 토요일이면 오늘이 주 시작\n     return saturday;\n-  } else if (dayOfWeek === 0) {\n-    // 일요일이면 어제(토요일)가 주 시작\n-    saturday.setDate(date.getDate() - 1);\n-    return saturday;\n   } else {\n-    // 월~금요일이면 지난 토요일 찾기\n-    // 월요일=2, 화요일=3, 수요일=4, 목요일=5, 금요일=6일 전\n-    const daysFromSaturday = dayOfWeek + 1;\n+    // 일~금요일이면 지난 토요일 찾기\n+    // 일요일: 1일 전, 월요일: 2일 전, 화요일: 3일 전, 수요일: 4일 전, 목요일: 5일 전, 금요일: 6일 전\n+    const daysFromSaturday = dayOfWeek === 0 ? 1 : dayOfWeek + 1;\n     saturday.setDate(date.getDate() - daysFromSaturday);\n     return saturday;\n   }\n };\n"
                },
                {
                    "date": 1763877282502,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -7,8 +7,10 @@\n  * - 직원 등록: 이번주 (지난/오늘 토요일 ~ 돌아오는 금요일)\n  * - 휴일설정 모달: 다음주 (다가오는 토요일 ~ 그 다음주 금요일)\n  */\n \n+import { formatDateToLocal } from '../components/Calendar/utils';\n+\n /**\n  * 특정 날짜가 속한 주의 토요일(주 시작일) 계산\n  * @param date - 기준 날짜\n  * @returns 해당 주의 토요일 Date 객체\n@@ -37,9 +39,9 @@\n export const getWeekStartDate = (date: Date): string => {\n   const saturday = getWeekStartSaturday(date);\n   const monday = new Date(saturday);\n   monday.setDate(saturday.getDate() + 2); // 토요일 + 2일 = 월요일\n-  return monday.toISOString().split('T')[0];\n+  return formatDateToLocal(monday);\n };\n \n /**\n  * 이번주 월요일 계산 (직원 등록용)\n@@ -72,9 +74,9 @@\n   \n   // 토요일 + 2일 = 월요일\n   const monday = new Date(nextSaturday);\n   monday.setDate(nextSaturday.getDate() + 2);\n-  return monday.toISOString().split('T')[0];\n+  return formatDateToLocal(monday);\n };\n \n /**\n  * 주 범위 표시 (토요일 ~ 금요일)\n"
                }
            ],
            "date": 1763870142263,
            "name": "Commit-0",
            "content": "/**\n * 주별 날짜 계산 유틸리티\n * \n * 핵심 규칙:\n * - 주는 토요일부터 금요일까지 (7일)\n * - weekStartDate는 항상 해당 주의 월요일 (토요일 + 2일)\n * - 직원 등록: 이번주 (지난/오늘 토요일 ~ 돌아오는 금요일)\n * - 휴일설정 모달: 다음주 (다가오는 토요일 ~ 그 다음주 금요일)\n */\n\n/**\n * 특정 날짜가 속한 주의 토요일(주 시작일) 계산\n * @param date - 기준 날짜\n * @returns 해당 주의 토요일 Date 객체\n */\nexport const getWeekStartSaturday = (date: Date): Date => {\n  const dayOfWeek = date.getDay(); // 0(일) ~ 6(토)\n  const saturday = new Date(date);\n  \n  if (dayOfWeek === 6) {\n    // 토요일이면 오늘이 주 시작\n    return saturday;\n  } else {\n    // 아니면 이전 토요일 찾기\n    const daysFromSaturday = (dayOfWeek + 1) % 7; // 일요일=1, 월요일=2, ..., 금요일=6\n    saturday.setDate(date.getDate() - daysFromSaturday);\n    return saturday;\n  }\n};\n\n/**\n * 특정 날짜가 속한 주의 월요일(weekStartDate) 계산\n * @param date - 기준 날짜\n * @returns YYYY-MM-DD 형식의 월요일 날짜\n */\nexport const getWeekStartDate = (date: Date): string => {\n  const saturday = getWeekStartSaturday(date);\n  const monday = new Date(saturday);\n  monday.setDate(saturday.getDate() + 2); // 토요일 + 2일 = 월요일\n  return monday.toISOString().split('T')[0];\n};\n\n/**\n * 이번주 월요일 계산 (직원 등록용)\n * 오늘이 속한 주의 월요일\n * @returns YYYY-MM-DD 형식의 월요일 날짜\n */\nexport const getThisWeekMonday = (): string => {\n  return getWeekStartDate(new Date());\n};\n\n/**\n * 다음주 월요일 계산 (휴일설정 모달용)\n * 다가오는 토요일부터 시작하는 주의 월요일\n * @returns YYYY-MM-DD 형식의 월요일 날짜\n */\nexport const getNextWeekMonday = (): string => {\n  const today = new Date();\n  const dayOfWeek = today.getDay();\n  \n  // 다가오는 토요일 계산\n  const nextSaturday = new Date(today);\n  if (dayOfWeek === 6) {\n    // 오늘이 토요일이면 다음 토요일\n    nextSaturday.setDate(today.getDate() + 7);\n  } else {\n    // 아니면 이번주 토요일\n    const daysUntilSaturday = 6 - dayOfWeek;\n    nextSaturday.setDate(today.getDate() + daysUntilSaturday);\n  }\n  \n  // 토요일 + 2일 = 월요일\n  const monday = new Date(nextSaturday);\n  monday.setDate(nextSaturday.getDate() + 2);\n  return monday.toISOString().split('T')[0];\n};\n\n/**\n * 주 범위 표시 (토요일 ~ 금요일)\n * @param weekStartDate - 월요일 날짜 (YYYY-MM-DD)\n * @returns \"MM/DD ~ MM/DD\" 형식\n */\nexport const getWeekRangeString = (weekStartDate: string): string => {\n  const monday = new Date(weekStartDate + 'T00:00:00');\n  const saturday = new Date(monday);\n  saturday.setDate(monday.getDate() - 2); // 월요일 - 2일 = 토요일\n  \n  const friday = new Date(saturday);\n  friday.setDate(saturday.getDate() + 6); // 토요일 + 6일 = 금요일\n  \n  const format = (date: Date) => `${date.getMonth() + 1}/${date.getDate()}`;\n  return `${format(saturday)} ~ ${format(friday)}`;\n};\n\n/**\n * 특정 날짜가 오늘 또는 과거인지 확인\n * @param date - 확인할 날짜\n * @returns true면 과거 또는 오늘\n */\nexport const isPastOrToday = (date: Date): boolean => {\n  const today = new Date();\n  today.setHours(0, 0, 0, 0);\n  \n  const targetDate = new Date(date);\n  targetDate.setHours(0, 0, 0, 0);\n  \n  return targetDate <= today;\n};\n"
        }
    ]
}