{
    "sourceFile": "src/pages/CMS/Member/CourseTransferModal.tsx",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 2,
            "patches": [
                {
                    "date": 1761914622449,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1761914877726,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -178,12 +178,13 @@\n \n     try {\n       setIsProcessing(true);\n \n-      // 1. 기존 수강 이력 종료 처리\n+      // 1. 기존 수강 이력 종료 처리 (진행상황 초기화)\n       const updatedOriginalEnrollment: CourseEnrollment = {\n         ...courseEnrollment,\n         enrollmentStatus: 'cancelled',\n+        completedSessions: 0, // 완료된 세션 수 초기화\n         notes: `${courseEnrollment.notes || ''}\\n[양도] ${new Date().toLocaleDateString()} ${selectedMember.name}님에게 양도`.trim()\n       };\n \n       await dbManager.updateCourseEnrollment(courseEnrollment.id, updatedOriginalEnrollment);\n"
                },
                {
                    "date": 1762070390526,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,391 @@\n+import React, { useState, useEffect, useCallback } from 'react';\n+import styled from 'styled-components';\n+import { toast } from 'react-toastify';\n+import { AppColors } from '../../../styles/colors';\n+import { AppTextStyles } from '../../../styles/textStyles';\n+import { dbManager, type Member, type CourseEnrollment } from '../../../utils/indexedDB';\n+import Modal from '../../../components/Modal';\n+import { TextField } from '../../../components/TextField';\n+import DataTable, { type TableColumn } from '../../../components/DataTable';\n+\n+interface CourseTransferModalProps {\n+  isOpen: boolean;\n+  onClose: () => void;\n+  onSuccess: () => void;\n+  courseEnrollment: CourseEnrollment | null;\n+}\n+\n+const ModalContent = styled.div`\n+  display: flex;\n+  flex-direction: column;\n+  gap: 24px;\n+  padding: 8px 0;\n+`;\n+\n+const Section = styled.div`\n+  display: flex;\n+  flex-direction: column;\n+  gap: 16px;\n+`;\n+\n+const SectionTitle = styled.h3`\n+  ${AppTextStyles.title3};\n+  color: ${AppColors.onSurface};\n+  margin: 0;\n+  padding-bottom: 8px;\n+  border-bottom: 1px solid ${AppColors.borderLight};\n+`;\n+\n+const InfoGrid = styled.div`\n+  display: grid;\n+  grid-template-columns: 1fr 1fr;\n+  gap: 16px;\n+  padding: 16px;\n+  background: ${AppColors.surface};\n+  border-radius: 8px;\n+  border: 1px solid ${AppColors.borderLight};\n+`;\n+\n+const InfoItem = styled.div`\n+  display: flex;\n+  flex-direction: column;\n+  gap: 4px;\n+`;\n+\n+const InfoLabel = styled.span`\n+  font-size: 12px;\n+  font-weight: 600;\n+  color: ${AppColors.onInput1};\n+`;\n+\n+const InfoValue = styled.span`\n+  font-size: 14px;\n+  color: ${AppColors.onSurface};\n+  font-weight: 500;\n+`;\n+\n+const SearchContainer = styled.div`\n+  display: flex;\n+  flex-direction: column;\n+  gap: 12px;\n+`;\n+\n+const MemberTableContainer = styled.div`\n+  max-height: 300px;\n+  overflow-y: auto;\n+  /* border: 1px solid ${AppColors.borderLight}; */\n+  border-radius: 8px;\n+`;\n+\n+const Button = styled.button<{ variant?: 'primary' | 'secondary' }>`\n+  padding: 12px 18px;\n+  border: ${props => props.variant === 'secondary' ? `1px solid ${AppColors.borderLight}` : 'none'};\n+  border-radius: 8px;\n+  background: ${props => props.variant === 'secondary' ? AppColors.surface : AppColors.primary};\n+  color: ${props => props.variant === 'secondary' ? AppColors.onSurface : AppColors.onPrimary};\n+  font-size: ${AppTextStyles.body1.fontSize};\n+  font-weight: 600;\n+  cursor: pointer;\n+  transition: all 0.2s;\n+  \n+  &:hover {\n+    opacity: 0.9;\n+    transform: translateY(-1px);\n+  }\n+  \n+  &:disabled {\n+    opacity: 0.5;\n+    cursor: not-allowed;\n+    transform: none;\n+  }\n+`;\n+\n+const WarningText = styled.div`\n+  background: #fff3cd;\n+  border: 1px solid #ffeaa7;\n+  border-radius: 8px;\n+  padding: 12px;\n+  color: #856404;\n+  font-size: 14px;\n+  line-height: 1.4;\n+`;\n+\n+const CourseTransferModal: React.FC<CourseTransferModalProps> = ({\n+  isOpen,\n+  onClose,\n+  onSuccess,\n+  courseEnrollment\n+}) => {\n+  const [searchQuery, setSearchQuery] = useState<string>('');\n+  const [members, setMembers] = useState<Member[]>([]);\n+  const [filteredMembers, setFilteredMembers] = useState<Member[]>([]);\n+  const [selectedMember, setSelectedMember] = useState<Member | null>(null);\n+  const [memo, setMemo] = useState<string>('');\n+  const [isProcessing, setIsProcessing] = useState<boolean>(false);\n+  const [loading, setLoading] = useState<boolean>(false);\n+\n+  // 회원 목록 로드\n+  const loadMembers = useCallback(async () => {\n+    try {\n+      setLoading(true);\n+      const allMembers = await dbManager.getAllMembers();\n+      \n+      // 현재 수강생 제외 (자기 자신에게는 양도 불가)\n+      const filteredMembers = allMembers.filter(member => \n+        member.id !== courseEnrollment?.memberId && member.isActive\n+      );\n+      \n+      setMembers(filteredMembers);\n+      setFilteredMembers(filteredMembers);\n+    } catch (error) {\n+      console.error('회원 목록 로드 실패:', error);\n+      toast.error('회원 목록을 불러오는데 실패했습니다.');\n+    } finally {\n+      setLoading(false);\n+    }\n+  }, [courseEnrollment?.memberId]);\n+\n+  useEffect(() => {\n+    if (isOpen) {\n+      loadMembers();\n+    }\n+  }, [isOpen, loadMembers]);\n+\n+  // 검색 필터링\n+  useEffect(() => {\n+    if (searchQuery.trim()) {\n+      const query = searchQuery.toLowerCase().trim();\n+      const filtered = members.filter(member =>\n+        member.name.toLowerCase().includes(query) ||\n+        member.phone.includes(query) ||\n+        member.email.toLowerCase().includes(query)\n+      );\n+      setFilteredMembers(filtered);\n+    } else {\n+      setFilteredMembers(members);\n+    }\n+  }, [searchQuery, members]);\n+\n+  const handleMemberSelect = (member: Member) => {\n+    setSelectedMember(member);\n+  };\n+\n+  const handleTransfer = async () => {\n+    if (!courseEnrollment || !selectedMember) {\n+      toast.error('양도할 수강권과 양도받을 회원을 선택해주세요.');\n+      return;\n+    }\n+\n+    try {\n+      setIsProcessing(true);\n+\n+      // 1. 기존 수강 이력 종료 처리 (진행상황 초기화)\n+      const updatedOriginalEnrollment: CourseEnrollment = {\n+        ...courseEnrollment,\n+        enrollmentStatus: 'cancelled',\n+        completedSessions: 0, // 완료된 세션 수 초기화\n+        notes: `${courseEnrollment.notes || ''}\\n[양도] ${new Date().toLocaleDateString()} ${selectedMember.name}님에게 양도`.trim()\n+      };\n+\n+      await dbManager.updateCourseEnrollment(courseEnrollment.id, updatedOriginalEnrollment);\n+\n+      // 2. 새로운 수강 이력 생성 (양도받은 회원용)\n+      const newEnrollment: Omit<CourseEnrollment, 'id' | 'createdAt' | 'updatedAt'> = {\n+        memberId: selectedMember.id,\n+        memberName: selectedMember.name,\n+        productId: courseEnrollment.productId,\n+        productName: courseEnrollment.productName,\n+        productPrice: courseEnrollment.productPrice,\n+        appliedPrice: courseEnrollment.appliedPrice,\n+        programId: courseEnrollment.programId,\n+        programName: courseEnrollment.programName,\n+        programType: courseEnrollment.programType,\n+        branchId: selectedMember.branchId, // 양도받는 회원의 지점\n+        branchName: selectedMember.branchName,\n+        coach: selectedMember.coach, // 양도받는 회원의 담당 코치\n+        coachName: selectedMember.coachName,\n+        enrollmentStatus: 'active',\n+        paidAmount: courseEnrollment.paidAmount,\n+        unpaidAmount: courseEnrollment.unpaidAmount,\n+        startDate: new Date(), // 양도일부터 시작\n+        endDate: courseEnrollment.endDate,\n+        sessionCount: courseEnrollment.sessionCount,\n+        completedSessions: courseEnrollment.completedSessions || 0, // 진행된 횟수 유지\n+        notes: `[양도받음] ${new Date().toLocaleDateString()} ${courseEnrollment.memberName}님으로부터 양도받음${memo ? `\\n${memo}` : ''}`\n+      };\n+\n+      await dbManager.addCourseEnrollment(newEnrollment);\n+\n+      toast.success(`수강권이 성공적으로 ${selectedMember.name}님에게 양도되었습니다.`);\n+      \n+      // 모달 닫기 및 데이터 새로고침\n+      onSuccess();\n+      handleClose();\n+\n+    } catch (error) {\n+      console.error('수강권 양도 실패:', error);\n+      toast.error('수강권 양도 중 오류가 발생했습니다.');\n+    } finally {\n+      setIsProcessing(false);\n+    }\n+  };\n+\n+  const handleClose = () => {\n+    setSearchQuery('');\n+    setSelectedMember(null);\n+    setMemo('');\n+    onClose();\n+  };\n+\n+  // 회원 테이블 컬럼 정의\n+  const memberColumns: TableColumn<Member>[] = [\n+    {\n+      key: 'name',\n+      title: '회원명',\n+      width: '120px'\n+    },\n+    {\n+      key: 'phone',\n+      title: '연락처',\n+      width: '130px'\n+    },\n+    {\n+      key: 'branchName',\n+      title: '지점',\n+      width: '100px'\n+    },\n+    {\n+      key: 'coachName',\n+      title: '담당코치',\n+      width: '100px'\n+    },\n+    {\n+      key: 'action',\n+      title: '선택',\n+      width: '80px',\n+      align: 'center' as const,\n+      render: (value, record) => (\n+        <Button\n+          variant={selectedMember?.id === record.id ? 'primary' : 'secondary'}\n+          onClick={() => handleMemberSelect(record)}\n+          style={{ padding: '6px 12px', fontSize: '12px' }}\n+        >\n+          {selectedMember?.id === record.id ? '선택됨' : '선택'}\n+        </Button>\n+      )\n+    }\n+  ];\n+\n+  if (!courseEnrollment) return null;\n+\n+  return (\n+    <Modal\n+      isOpen={isOpen}\n+      onClose={handleClose}\n+      width=\"min(95vw, 800px)\"\n+      header=\"수강권 양도\"\n+      body={\n+        <ModalContent>\n+          {/* 양도할 수강권 정보 */}\n+          <Section>\n+            <SectionTitle>양도할 수강권 정보</SectionTitle>\n+            <InfoGrid>\n+              <InfoItem>\n+                <InfoLabel>현재 회원</InfoLabel>\n+                <InfoValue>{courseEnrollment.memberName}</InfoValue>\n+              </InfoItem>\n+              <InfoItem>\n+                <InfoLabel>상품명</InfoLabel>\n+                <InfoValue>{courseEnrollment.productName}</InfoValue>\n+              </InfoItem>\n+              <InfoItem>\n+                <InfoLabel>프로그램</InfoLabel>\n+                <InfoValue>{courseEnrollment.programName} ({courseEnrollment.programType})</InfoValue>\n+              </InfoItem>\n+              <InfoItem>\n+                <InfoLabel>진행상황</InfoLabel>\n+                <InfoValue>\n+                  {courseEnrollment.programType === '횟수제' && courseEnrollment.sessionCount ? \n+                    `${courseEnrollment.completedSessions || 0}/${courseEnrollment.sessionCount}회 완료` :\n+                    '기간제'\n+                  }\n+                </InfoValue>\n+              </InfoItem>\n+              <InfoItem>\n+                <InfoLabel>잔여 미수금</InfoLabel>\n+                <InfoValue style={{ color: courseEnrollment.unpaidAmount > 0 ? '#d32f2f' : AppColors.primary }}>\n+                  {courseEnrollment.unpaidAmount.toLocaleString()}원\n+                </InfoValue>\n+              </InfoItem>\n+              <InfoItem>\n+                <InfoLabel>수강 상태</InfoLabel>\n+                <InfoValue>{courseEnrollment.enrollmentStatus === 'active' ? '수강중' : courseEnrollment.enrollmentStatus}</InfoValue>\n+              </InfoItem>\n+            </InfoGrid>\n+          </Section>\n+\n+          {/* 양도받을 회원 선택 */}\n+          <Section>\n+            <SectionTitle>양도받을 회원 선택</SectionTitle>\n+            <SearchContainer>\n+              <TextField\n+                value={searchQuery}\n+                onChange={(e) => setSearchQuery(e.target.value)}\n+                placeholder=\"회원명, 연락처, 이메일로 검색...\"\n+              />\n+              \n+              <MemberTableContainer>\n+                <DataTable\n+                  columns={memberColumns}\n+                  data={filteredMembers}\n+                  loading={loading}\n+                  emptyText=\"검색된 회원이 없습니다\"\n+                  emptyDescription=\"다른 검색어로 시도해보세요\"\n+                  pagination={{\n+                    enabled: false\n+                  }}\n+                />\n+              </MemberTableContainer>\n+            </SearchContainer>\n+          </Section>\n+\n+          {/* 양도 메모 */}\n+          <Section>\n+            <SectionTitle>양도 관련 메모</SectionTitle>\n+            <TextField\n+              value={memo}\n+              onChange={(e) => setMemo(e.target.value)}\n+              placeholder=\"양도 관련 메모 (선택사항)\"\n+              multiline\n+            />\n+          </Section>\n+\n+          {/* 주의사항 */}\n+          <WarningText>\n+            <strong>⚠️ 양도 시 주의사항</strong><br />\n+            • 양도 후에는 취소할 수 없습니다.<br />\n+            • 기존 회원의 수강 이력은 '취소' 상태로 변경됩니다.<br />\n+            • 양도받는 회원의 지점과 담당 코치로 자동 변경됩니다.<br />\n+            • 진행된 수업 횟수는 그대로 유지됩니다.<br />\n+            • 미수금이 있는 경우 양도받는 회원이 승계합니다.\n+          </WarningText>\n+        </ModalContent>\n+      }\n+      footer={\n+        <div style={{ display: 'flex', justifyContent: 'flex-end', gap: '12px', width: '100%' }}>\n+          <Button variant=\"secondary\" onClick={handleClose} disabled={isProcessing}>\n+            취소\n+          </Button>\n+          <Button \n+            onClick={handleTransfer} \n+            disabled={isProcessing || !selectedMember}\n+          >\n+            {isProcessing ? '처리 중...' : '양도 확인'}\n+          </Button>\n+        </div>\n+      }\n+    />\n+  );\n+};\n+\n+export default CourseTransferModal;\n\\ No newline at end of file\n"
                }
            ],
            "date": 1761914622449,
            "name": "Commit-0",
            "content": "import React, { useState, useEffect, useCallback } from 'react';\nimport styled from 'styled-components';\nimport { toast } from 'react-toastify';\nimport { AppColors } from '../../../styles/colors';\nimport { AppTextStyles } from '../../../styles/textStyles';\nimport { dbManager, type Member, type CourseEnrollment } from '../../../utils/indexedDB';\nimport Modal from '../../../components/Modal';\nimport { TextField } from '../../../components/TextField';\nimport DataTable, { type TableColumn } from '../../../components/DataTable';\n\ninterface CourseTransferModalProps {\n  isOpen: boolean;\n  onClose: () => void;\n  onSuccess: () => void;\n  courseEnrollment: CourseEnrollment | null;\n}\n\nconst ModalContent = styled.div`\n  display: flex;\n  flex-direction: column;\n  gap: 24px;\n  padding: 8px 0;\n`;\n\nconst Section = styled.div`\n  display: flex;\n  flex-direction: column;\n  gap: 16px;\n`;\n\nconst SectionTitle = styled.h3`\n  ${AppTextStyles.title3};\n  color: ${AppColors.onSurface};\n  margin: 0;\n  padding-bottom: 8px;\n  border-bottom: 1px solid ${AppColors.borderLight};\n`;\n\nconst InfoGrid = styled.div`\n  display: grid;\n  grid-template-columns: 1fr 1fr;\n  gap: 16px;\n  padding: 16px;\n  background: ${AppColors.surface};\n  border-radius: 8px;\n  border: 1px solid ${AppColors.borderLight};\n`;\n\nconst InfoItem = styled.div`\n  display: flex;\n  flex-direction: column;\n  gap: 4px;\n`;\n\nconst InfoLabel = styled.span`\n  font-size: 12px;\n  font-weight: 600;\n  color: ${AppColors.onInput1};\n`;\n\nconst InfoValue = styled.span`\n  font-size: 14px;\n  color: ${AppColors.onSurface};\n  font-weight: 500;\n`;\n\nconst SearchContainer = styled.div`\n  display: flex;\n  flex-direction: column;\n  gap: 12px;\n`;\n\nconst MemberTableContainer = styled.div`\n  max-height: 300px;\n  overflow-y: auto;\n  border: 1px solid ${AppColors.borderLight};\n  border-radius: 8px;\n`;\n\nconst Button = styled.button<{ variant?: 'primary' | 'secondary' }>`\n  padding: 12px 18px;\n  border: ${props => props.variant === 'secondary' ? `1px solid ${AppColors.borderLight}` : 'none'};\n  border-radius: 8px;\n  background: ${props => props.variant === 'secondary' ? AppColors.surface : AppColors.primary};\n  color: ${props => props.variant === 'secondary' ? AppColors.onSurface : AppColors.onPrimary};\n  font-size: ${AppTextStyles.body1.fontSize};\n  font-weight: 600;\n  cursor: pointer;\n  transition: all 0.2s;\n  \n  &:hover {\n    opacity: 0.9;\n    transform: translateY(-1px);\n  }\n  \n  &:disabled {\n    opacity: 0.5;\n    cursor: not-allowed;\n    transform: none;\n  }\n`;\n\nconst WarningText = styled.div`\n  background: #fff3cd;\n  border: 1px solid #ffeaa7;\n  border-radius: 8px;\n  padding: 12px;\n  color: #856404;\n  font-size: 14px;\n  line-height: 1.4;\n`;\n\nconst CourseTransferModal: React.FC<CourseTransferModalProps> = ({\n  isOpen,\n  onClose,\n  onSuccess,\n  courseEnrollment\n}) => {\n  const [searchQuery, setSearchQuery] = useState<string>('');\n  const [members, setMembers] = useState<Member[]>([]);\n  const [filteredMembers, setFilteredMembers] = useState<Member[]>([]);\n  const [selectedMember, setSelectedMember] = useState<Member | null>(null);\n  const [memo, setMemo] = useState<string>('');\n  const [isProcessing, setIsProcessing] = useState<boolean>(false);\n  const [loading, setLoading] = useState<boolean>(false);\n\n  // 회원 목록 로드\n  const loadMembers = useCallback(async () => {\n    try {\n      setLoading(true);\n      const allMembers = await dbManager.getAllMembers();\n      \n      // 현재 수강생 제외 (자기 자신에게는 양도 불가)\n      const filteredMembers = allMembers.filter(member => \n        member.id !== courseEnrollment?.memberId && member.isActive\n      );\n      \n      setMembers(filteredMembers);\n      setFilteredMembers(filteredMembers);\n    } catch (error) {\n      console.error('회원 목록 로드 실패:', error);\n      toast.error('회원 목록을 불러오는데 실패했습니다.');\n    } finally {\n      setLoading(false);\n    }\n  }, [courseEnrollment?.memberId]);\n\n  useEffect(() => {\n    if (isOpen) {\n      loadMembers();\n    }\n  }, [isOpen, loadMembers]);\n\n  // 검색 필터링\n  useEffect(() => {\n    if (searchQuery.trim()) {\n      const query = searchQuery.toLowerCase().trim();\n      const filtered = members.filter(member =>\n        member.name.toLowerCase().includes(query) ||\n        member.phone.includes(query) ||\n        member.email.toLowerCase().includes(query)\n      );\n      setFilteredMembers(filtered);\n    } else {\n      setFilteredMembers(members);\n    }\n  }, [searchQuery, members]);\n\n  const handleMemberSelect = (member: Member) => {\n    setSelectedMember(member);\n  };\n\n  const handleTransfer = async () => {\n    if (!courseEnrollment || !selectedMember) {\n      toast.error('양도할 수강권과 양도받을 회원을 선택해주세요.');\n      return;\n    }\n\n    try {\n      setIsProcessing(true);\n\n      // 1. 기존 수강 이력 종료 처리\n      const updatedOriginalEnrollment: CourseEnrollment = {\n        ...courseEnrollment,\n        enrollmentStatus: 'cancelled',\n        notes: `${courseEnrollment.notes || ''}\\n[양도] ${new Date().toLocaleDateString()} ${selectedMember.name}님에게 양도`.trim()\n      };\n\n      await dbManager.updateCourseEnrollment(courseEnrollment.id, updatedOriginalEnrollment);\n\n      // 2. 새로운 수강 이력 생성 (양도받은 회원용)\n      const newEnrollment: Omit<CourseEnrollment, 'id' | 'createdAt' | 'updatedAt'> = {\n        memberId: selectedMember.id,\n        memberName: selectedMember.name,\n        productId: courseEnrollment.productId,\n        productName: courseEnrollment.productName,\n        productPrice: courseEnrollment.productPrice,\n        appliedPrice: courseEnrollment.appliedPrice,\n        programId: courseEnrollment.programId,\n        programName: courseEnrollment.programName,\n        programType: courseEnrollment.programType,\n        branchId: selectedMember.branchId, // 양도받는 회원의 지점\n        branchName: selectedMember.branchName,\n        coach: selectedMember.coach, // 양도받는 회원의 담당 코치\n        coachName: selectedMember.coachName,\n        enrollmentStatus: 'active',\n        paidAmount: courseEnrollment.paidAmount,\n        unpaidAmount: courseEnrollment.unpaidAmount,\n        startDate: new Date(), // 양도일부터 시작\n        endDate: courseEnrollment.endDate,\n        sessionCount: courseEnrollment.sessionCount,\n        completedSessions: courseEnrollment.completedSessions || 0, // 진행된 횟수 유지\n        notes: `[양도받음] ${new Date().toLocaleDateString()} ${courseEnrollment.memberName}님으로부터 양도받음${memo ? `\\n${memo}` : ''}`\n      };\n\n      await dbManager.addCourseEnrollment(newEnrollment);\n\n      toast.success(`수강권이 성공적으로 ${selectedMember.name}님에게 양도되었습니다.`);\n      \n      // 모달 닫기 및 데이터 새로고침\n      onSuccess();\n      handleClose();\n\n    } catch (error) {\n      console.error('수강권 양도 실패:', error);\n      toast.error('수강권 양도 중 오류가 발생했습니다.');\n    } finally {\n      setIsProcessing(false);\n    }\n  };\n\n  const handleClose = () => {\n    setSearchQuery('');\n    setSelectedMember(null);\n    setMemo('');\n    onClose();\n  };\n\n  // 회원 테이블 컬럼 정의\n  const memberColumns: TableColumn<Member>[] = [\n    {\n      key: 'name',\n      title: '회원명',\n      width: '120px'\n    },\n    {\n      key: 'phone',\n      title: '연락처',\n      width: '130px'\n    },\n    {\n      key: 'branchName',\n      title: '지점',\n      width: '100px'\n    },\n    {\n      key: 'coachName',\n      title: '담당코치',\n      width: '100px'\n    },\n    {\n      key: 'action',\n      title: '선택',\n      width: '80px',\n      align: 'center' as const,\n      render: (value, record) => (\n        <Button\n          variant={selectedMember?.id === record.id ? 'primary' : 'secondary'}\n          onClick={() => handleMemberSelect(record)}\n          style={{ padding: '6px 12px', fontSize: '12px' }}\n        >\n          {selectedMember?.id === record.id ? '선택됨' : '선택'}\n        </Button>\n      )\n    }\n  ];\n\n  if (!courseEnrollment) return null;\n\n  return (\n    <Modal\n      isOpen={isOpen}\n      onClose={handleClose}\n      width=\"min(95vw, 800px)\"\n      header=\"수강권 양도\"\n      body={\n        <ModalContent>\n          {/* 양도할 수강권 정보 */}\n          <Section>\n            <SectionTitle>양도할 수강권 정보</SectionTitle>\n            <InfoGrid>\n              <InfoItem>\n                <InfoLabel>현재 회원</InfoLabel>\n                <InfoValue>{courseEnrollment.memberName}</InfoValue>\n              </InfoItem>\n              <InfoItem>\n                <InfoLabel>상품명</InfoLabel>\n                <InfoValue>{courseEnrollment.productName}</InfoValue>\n              </InfoItem>\n              <InfoItem>\n                <InfoLabel>프로그램</InfoLabel>\n                <InfoValue>{courseEnrollment.programName} ({courseEnrollment.programType})</InfoValue>\n              </InfoItem>\n              <InfoItem>\n                <InfoLabel>진행상황</InfoLabel>\n                <InfoValue>\n                  {courseEnrollment.programType === '횟수제' && courseEnrollment.sessionCount ? \n                    `${courseEnrollment.completedSessions || 0}/${courseEnrollment.sessionCount}회 완료` :\n                    '기간제'\n                  }\n                </InfoValue>\n              </InfoItem>\n              <InfoItem>\n                <InfoLabel>잔여 미수금</InfoLabel>\n                <InfoValue style={{ color: courseEnrollment.unpaidAmount > 0 ? '#d32f2f' : AppColors.primary }}>\n                  {courseEnrollment.unpaidAmount.toLocaleString()}원\n                </InfoValue>\n              </InfoItem>\n              <InfoItem>\n                <InfoLabel>수강 상태</InfoLabel>\n                <InfoValue>{courseEnrollment.enrollmentStatus === 'active' ? '수강중' : courseEnrollment.enrollmentStatus}</InfoValue>\n              </InfoItem>\n            </InfoGrid>\n          </Section>\n\n          {/* 양도받을 회원 선택 */}\n          <Section>\n            <SectionTitle>양도받을 회원 선택</SectionTitle>\n            <SearchContainer>\n              <TextField\n                value={searchQuery}\n                onChange={(e) => setSearchQuery(e.target.value)}\n                placeholder=\"회원명, 연락처, 이메일로 검색...\"\n              />\n              \n              <MemberTableContainer>\n                <DataTable\n                  columns={memberColumns}\n                  data={filteredMembers}\n                  loading={loading}\n                  emptyText=\"검색된 회원이 없습니다\"\n                  emptyDescription=\"다른 검색어로 시도해보세요\"\n                  pagination={{\n                    enabled: false\n                  }}\n                />\n              </MemberTableContainer>\n            </SearchContainer>\n          </Section>\n\n          {/* 양도 메모 */}\n          <Section>\n            <SectionTitle>양도 관련 메모</SectionTitle>\n            <TextField\n              value={memo}\n              onChange={(e) => setMemo(e.target.value)}\n              placeholder=\"양도 관련 메모 (선택사항)\"\n              multiline\n            />\n          </Section>\n\n          {/* 주의사항 */}\n          <WarningText>\n            <strong>⚠️ 양도 시 주의사항</strong><br />\n            • 양도 후에는 취소할 수 없습니다.<br />\n            • 기존 회원의 수강 이력은 '취소' 상태로 변경됩니다.<br />\n            • 양도받는 회원의 지점과 담당 코치로 자동 변경됩니다.<br />\n            • 진행된 수업 횟수는 그대로 유지됩니다.<br />\n            • 미수금이 있는 경우 양도받는 회원이 승계합니다.\n          </WarningText>\n        </ModalContent>\n      }\n      footer={\n        <div style={{ display: 'flex', justifyContent: 'flex-end', gap: '12px', width: '100%' }}>\n          <Button variant=\"secondary\" onClick={handleClose} disabled={isProcessing}>\n            취소\n          </Button>\n          <Button \n            onClick={handleTransfer} \n            disabled={isProcessing || !selectedMember}\n          >\n            {isProcessing ? '처리 중...' : '양도 확인'}\n          </Button>\n        </div>\n      }\n    />\n  );\n};\n\nexport default CourseTransferModal;"
        }
    ]
}