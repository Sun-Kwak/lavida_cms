{
    "sourceFile": "src/pages/CMS/Member/PreviewDocument.tsx",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 3,
            "patches": [
                {
                    "date": 1760252813083,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1760252977303,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,8 +1,37 @@\n import { MemberFormData } from './types';\n+import { dbManager } from '../../../utils/indexedDB';\n \n+// ID를 이름으로 변환하는 함수들\n+const getBranchName = async (branchId: string): Promise<string> => {\n+  if (!branchId) return '선택되지 않음';\n+  try {\n+    const branches = await dbManager.getAllBranches();\n+    const branch = branches.find(b => b.id === branchId);\n+    return branch ? branch.name : branchId;\n+  } catch (error) {\n+    console.error('지점 이름 조회 실패:', error);\n+    return branchId;\n+  }\n+};\n+\n+const getStaffName = async (staffId: string): Promise<string> => {\n+  if (!staffId) return '선택되지 않음';\n+  try {\n+    const staff = await dbManager.getAllStaff();\n+    const employee = staff.find(s => s.id === staffId);\n+    return employee ? employee.name : staffId;\n+  } catch (error) {\n+    console.error('직원 이름 조회 실패:', error);\n+    return staffId;\n+  }\n+};\n+\n // 새창에서 열기 위한 함수\n-export const openPreviewWindow = (formData: MemberFormData) => {\n+export const openPreviewWindow = async (formData: MemberFormData) => {\n+  // 비동기적으로 이름들을 가져오기\n+  const branchName = await getBranchName(formData.joinInfo.branchId);\n+  const coachName = await getStaffName(formData.joinInfo.coach);\n   const newWindow = window.open('', '_blank', 'width=900,height=700,scrollbars=yes,resizable=yes');\n   \n   if (newWindow) {\n     newWindow.document.write(`\n@@ -282,13 +311,13 @@\n             <h2 class=\"section-title\">2. 가입 정보</h2>\n             <div class=\"info-grid\">\n               <div class=\"info-item\">\n                 <span class=\"info-label\">지점</span>\n-                <span class=\"info-value\">${formData.joinInfo.branchId || '선택되지 않음'}</span>\n+                <span class=\"info-value\">${branchName}</span>\n               </div>\n               <div class=\"info-item\">\n                 <span class=\"info-label\">담당 코치</span>\n-                <span class=\"info-value\">${formData.joinInfo.coach || '선택되지 않음'}</span>\n+                <span class=\"info-value\">${coachName}</span>\n               </div>\n               <div class=\"info-item\">\n                 <span class=\"info-label\">가입 경로</span>\n                 <span class=\"info-value\">${formData.joinInfo.joinPath || '선택되지 않음'}</span>\n"
                },
                {
                    "date": 1760253496814,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,804 @@\n+import { MemberFormData } from './types';\n+import { dbManager } from '../../../utils/indexedDB';\n+\n+// ID를 이름으로 변환하는 함수들\n+const getBranchName = async (branchId: string): Promise<string> => {\n+  if (!branchId) return '선택되지 않음';\n+  try {\n+    const branches = await dbManager.getAllBranches();\n+    const branch = branches.find(b => b.id === branchId);\n+    return branch ? branch.name : branchId;\n+  } catch (error) {\n+    console.error('지점 이름 조회 실패:', error);\n+    return branchId;\n+  }\n+};\n+\n+const getStaffName = async (staffId: string): Promise<string> => {\n+  if (!staffId) return '선택되지 않음';\n+  try {\n+    const staff = await dbManager.getAllStaff();\n+    const employee = staff.find(s => s.id === staffId);\n+    return employee ? employee.name : staffId;\n+  } catch (error) {\n+    console.error('직원 이름 조회 실패:', error);\n+    return staffId;\n+  }\n+};\n+\n+// HTML 문서 생성 함수\n+const generateDocumentHTML = async (formData: MemberFormData): Promise<string> => {\n+  const branchName = await getBranchName(formData.joinInfo.branchId);\n+  const coachName = await getStaffName(formData.joinInfo.coach);\n+  \n+  return `\n+    <!DOCTYPE html>\n+    <html lang=\"ko\">\n+    <head>\n+      <meta charset=\"UTF-8\">\n+      <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n+      <title>회원 등록 정보 - ${formData.basicInfo.name || '신규회원'}</title>\n+      <style>\n+        * {\n+          margin: 0;\n+          padding: 0;\n+          box-sizing: border-box;\n+        }\n+        \n+        body {\n+          font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif;\n+          line-height: 1.6;\n+          color: #333;\n+          background: #f5f5f5;\n+        }\n+        \n+        .document-container {\n+          width: 100%;\n+          max-width: 800px;\n+          margin: 0 auto;\n+          padding: 40px 20px;\n+          background: white;\n+          min-height: 100vh;\n+        }\n+        \n+        .document-header {\n+          text-align: center;\n+          margin-bottom: 40px;\n+          padding-bottom: 20px;\n+          border-bottom: 2px solid #007bff;\n+        }\n+        \n+        .document-title {\n+          font-size: 28px;\n+          font-weight: 700;\n+          color: #333;\n+          margin: 0 0 8px 0;\n+        }\n+        \n+        .document-subtitle {\n+          font-size: 16px;\n+          color: #666;\n+          margin: 0;\n+        }\n+        \n+        .section {\n+          margin-bottom: 40px;\n+          break-inside: avoid;\n+        }\n+        \n+        .section-title {\n+          font-size: 20px;\n+          font-weight: 600;\n+          color: #007bff;\n+          margin: 0 0 20px 0;\n+          padding-bottom: 8px;\n+          border-bottom: 1px solid #dee2e6;\n+        }\n+        \n+        .info-grid {\n+          display: grid;\n+          grid-template-columns: 1fr 1fr;\n+          gap: 16px;\n+          margin-bottom: 20px;\n+        }\n+        \n+        .info-item {\n+          display: flex;\n+          flex-direction: column;\n+          gap: 4px;\n+        }\n+        \n+        .info-label {\n+          font-size: 14px;\n+          color: #666;\n+          font-weight: 500;\n+        }\n+        \n+        .info-value {\n+          font-size: 16px;\n+          color: #333;\n+          padding: 8px 12px;\n+          background: #f8f9fa;\n+          border-radius: 4px;\n+          border: 1px solid #dee2e6;\n+        }\n+        \n+        .product-item {\n+          display: flex;\n+          justify-content: space-between;\n+          align-items: center;\n+          padding: 12px 16px;\n+          background: #f8f9fa;\n+          border-radius: 4px;\n+          border: 1px solid #dee2e6;\n+          margin-bottom: 8px;\n+        }\n+        \n+        .product-name {\n+          font-size: 16px;\n+          color: #333;\n+          flex: 1;\n+        }\n+        \n+        .product-price {\n+          font-size: 16px;\n+          color: #007bff;\n+          font-weight: 600;\n+        }\n+        \n+        .agreement-item {\n+          margin-bottom: 24px;\n+          break-inside: avoid;\n+        }\n+        \n+        .agreement-header {\n+          display: flex;\n+          justify-content: space-between;\n+          align-items: center;\n+          margin-bottom: 12px;\n+          gap: 12px;\n+        }\n+        \n+        .agreement-title {\n+          font-size: 16px;\n+          font-weight: 600;\n+          color: #333;\n+          margin: 0;\n+          flex: 1;\n+        }\n+        \n+        .agreement-status {\n+          padding: 6px 12px;\n+          border-radius: 4px;\n+          font-size: 14px;\n+          font-weight: 500;\n+        }\n+        \n+        .agreement-status.agreed {\n+          background: #e7f5e7;\n+          color: #2d5a2d;\n+          border: 1px solid #c3e6c3;\n+        }\n+        \n+        .agreement-status.not-agreed {\n+          background: #fff2f2;\n+          color: #8b1538;\n+          border: 1px solid #f5c6cb;\n+        }\n+        \n+        .agreement-content {\n+          border: 1px solid #dee2e6;\n+          border-radius: 4px;\n+          background: white;\n+          padding: 16px;\n+          overflow: hidden;\n+        }\n+        \n+        .signature-section {\n+          display: grid;\n+          grid-template-columns: 1fr 1fr;\n+          gap: 24px;\n+          margin-top: 20px;\n+        }\n+        \n+        .signature-box {\n+          text-align: center;\n+          padding: 20px;\n+          border: 1px solid #dee2e6;\n+          border-radius: 8px;\n+          background: #f8f9fa;\n+        }\n+        \n+        .signature-label {\n+          font-size: 14px;\n+          color: #666;\n+          margin-bottom: 12px;\n+          font-weight: 500;\n+        }\n+        \n+        .signature-image {\n+          max-width: 100%;\n+          height: 100px;\n+          border: 1px solid #dee2e6;\n+          border-radius: 4px;\n+          background: white;\n+          object-fit: contain;\n+        }\n+        \n+        .no-signature {\n+          height: 100px;\n+          border: 1px dashed #dee2e6;\n+          border-radius: 4px;\n+          display: flex;\n+          align-items: center;\n+          justify-content: center;\n+          color: #666;\n+          font-size: 14px;\n+          background: white;\n+        }\n+        \n+        @media print {\n+          body {\n+            background: white;\n+          }\n+          \n+          .document-container {\n+            padding: 20px;\n+            box-shadow: none;\n+          }\n+          \n+          .section {\n+            page-break-inside: avoid;\n+          }\n+        }\n+        \n+        @media (max-width: 600px) {\n+          .info-grid,\n+          .signature-section {\n+            grid-template-columns: 1fr;\n+          }\n+        }\n+      </style>\n+    </head>\n+    <body>\n+      <div class=\"document-container\">\n+        <div class=\"document-header\">\n+          <h1 class=\"document-title\">회원 등록 정보</h1>\n+          <p class=\"document-subtitle\">작성일: ${new Date().toLocaleDateString('ko-KR', { \n+            year: 'numeric', \n+            month: 'long', \n+            day: 'numeric' \n+          })}</p>\n+        </div>\n+        \n+        <div class=\"section\">\n+          <h2 class=\"section-title\">1. 기본 정보</h2>\n+          <div class=\"info-grid\">\n+            <div class=\"info-item\">\n+              <span class=\"info-label\">이름</span>\n+              <span class=\"info-value\">${formData.basicInfo.name || '입력되지 않음'}</span>\n+            </div>\n+            <div class=\"info-item\">\n+              <span class=\"info-label\">전화번호</span>\n+              <span class=\"info-value\">${formData.basicInfo.phone || '입력되지 않음'}</span>\n+            </div>\n+            <div class=\"info-item\">\n+              <span class=\"info-label\">이메일</span>\n+              <span class=\"info-value\">${formData.basicInfo.email || '입력되지 않음'}</span>\n+            </div>\n+            <div class=\"info-item\">\n+              <span class=\"info-label\">생년월일</span>\n+              <span class=\"info-value\">${formData.basicInfo.birth || '입력되지 않음'}</span>\n+            </div>\n+            <div class=\"info-item\">\n+              <span class=\"info-label\">성별</span>\n+              <span class=\"info-value\">${\n+                formData.basicInfo.gender === 'male' ? '남성' : \n+                formData.basicInfo.gender === 'female' ? '여성' : '선택되지 않음'\n+              }</span>\n+            </div>\n+            <div class=\"info-item\" style=\"grid-column: 1 / -1;\">\n+              <span class=\"info-label\">주소</span>\n+              <span class=\"info-value\">${formData.basicInfo.addressInfo.address || '입력되지 않음'}</span>\n+            </div>\n+          </div>\n+        </div>\n+        \n+        <div class=\"section\">\n+          <h2 class=\"section-title\">2. 가입 정보</h2>\n+          <div class=\"info-grid\">\n+            <div class=\"info-item\">\n+              <span class=\"info-label\">지점</span>\n+              <span class=\"info-value\">${branchName}</span>\n+            </div>\n+            <div class=\"info-item\">\n+              <span class=\"info-label\">담당 코치</span>\n+              <span class=\"info-value\">${coachName}</span>\n+            </div>\n+            <div class=\"info-item\">\n+              <span class=\"info-label\">가입 경로</span>\n+              <span class=\"info-value\">${formData.joinInfo.joinPath || '선택되지 않음'}</span>\n+            </div>\n+            <div class=\"info-item\">\n+              <span class=\"info-label\">로그인 ID</span>\n+              <span class=\"info-value\">${formData.joinInfo.loginId || '입력되지 않음'}</span>\n+            </div>\n+            <div class=\"info-item\">\n+              <span class=\"info-label\">로그인 사용</span>\n+              <span class=\"info-value\">${formData.joinInfo.enableLogin ? '사용' : '사용안함'}</span>\n+            </div>\n+          </div>\n+        </div>\n+        \n+        <div class=\"section\">\n+          <h2 class=\"section-title\">3. 결제 정보</h2>\n+          ${formData.paymentInfo.selectedProducts.length > 0 ? \n+            formData.paymentInfo.selectedProducts.map(product => `\n+              <div class=\"product-item\">\n+                <span class=\"product-name\">${product.name}</span>\n+                <span class=\"product-price\">${product.price.toLocaleString()}원</span>\n+              </div>\n+            `).join('') : \n+            '<span class=\"info-value\" style=\"display: block; color: #666;\">선택된 상품이 없습니다</span>'\n+          }\n+        </div>\n+        \n+        <div class=\"section\">\n+          <h2 class=\"section-title\">4. 약관 동의 및 서명</h2>\n+          \n+          <div style=\"margin-bottom: 32px;\">\n+            <h4 style=\"font-size: 16px; font-weight: 600; margin: 0 0 16px 0;\">약관 동의 현황</h4>\n+            ${formData.agreementInfo.agreements.map(agreement => `\n+              <div class=\"agreement-item\">\n+                <div class=\"agreement-header\">\n+                  <h3 class=\"agreement-title\">\n+                    ${agreement.title} ${agreement.required ? '(필수)' : ''}\n+                  </h3>\n+                  <span class=\"agreement-status ${agreement.agreed ? 'agreed' : 'not-agreed'}\">\n+                    ${agreement.agreed ? '동의함' : '동의안함'}\n+                  </span>\n+                </div>\n+                <div class=\"agreement-content\">\n+                  ${agreement.content}\n+                </div>\n+              </div>\n+            `).join('')}\n+          </div>\n+\n+          <div>\n+            <h4 style=\"font-size: 16px; font-weight: 600; margin: 0 0 16px 0;\">서명</h4>\n+            <div class=\"signature-section\">\n+              <div class=\"signature-box\">\n+                <div class=\"signature-label\">고객 서명</div>\n+                ${formData.agreementInfo.customerSignature ? \n+                  `<img class=\"signature-image\" src=\"${formData.agreementInfo.customerSignature}\" alt=\"고객 서명\" />` :\n+                  '<div class=\"no-signature\">서명되지 않음</div>'\n+                }\n+                <div style=\"margin-top: 8px; font-size: 12px; color: #666;\">\n+                  위 약관에 동의하며 서명합니다.\n+                </div>\n+              </div>\n+              <div class=\"signature-box\">\n+                <div class=\"signature-label\">직원 서명</div>\n+                ${formData.agreementInfo.staffSignature ? \n+                  `<img class=\"signature-image\" src=\"${formData.agreementInfo.staffSignature}\" alt=\"직원 서명\" />` :\n+                  '<div class=\"no-signature\">서명되지 않음</div>'\n+                }\n+                <div style=\"margin-top: 8px; font-size: 12px; color: #666;\">\n+                  약관 설명 및 확인 완료\n+                </div>\n+              </div>\n+            </div>\n+          </div>\n+        </div>\n+      </div>\n+    </body>\n+    </html>\n+  `;\n+};\n+\n+// 파일로 저장하는 함수\n+export const saveDocumentAsFile = async (formData: MemberFormData): Promise<string> => {\n+  try {\n+    const html = await generateDocumentHTML(formData);\n+    const fileName = `회원등록_${formData.basicInfo.name || '신규회원'}_${new Date().toISOString().slice(0, 10)}.html`;\n+    \n+    // Blob으로 파일 생성\n+    const blob = new Blob([html], { type: 'text/html;charset=utf-8' });\n+    const url = URL.createObjectURL(blob);\n+    \n+    // 파일 다운로드\n+    const link = document.createElement('a');\n+    link.href = url;\n+    link.download = fileName;\n+    document.body.appendChild(link);\n+    link.click();\n+    document.body.removeChild(link);\n+    URL.revokeObjectURL(url);\n+    \n+    return fileName;\n+  } catch (error) {\n+    console.error('문서 저장 실패:', error);\n+    throw error;\n+  }\n+};\n+\n+// 새창에서 열기 위한 함수\n+export const openPreviewWindow = async (formData: MemberFormData) => {\n+  // 비동기적으로 이름들을 가져오기\n+  const branchName = await getBranchName(formData.joinInfo.branchId);\n+  const coachName = await getStaffName(formData.joinInfo.coach);\n+  const newWindow = window.open('', '_blank', 'width=900,height=700,scrollbars=yes,resizable=yes');\n+  \n+  if (newWindow) {\n+    newWindow.document.write(`\n+      <!DOCTYPE html>\n+      <html lang=\"ko\">\n+      <head>\n+        <meta charset=\"UTF-8\">\n+        <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n+        <title>회원 등록 정보 - ${formData.basicInfo.name || '신규회원'}</title>\n+        <style>\n+          * {\n+            margin: 0;\n+            padding: 0;\n+            box-sizing: border-box;\n+          }\n+          \n+          body {\n+            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif;\n+            line-height: 1.6;\n+            color: #333;\n+            background: #f5f5f5;\n+          }\n+          \n+          .document-container {\n+            width: 100%;\n+            max-width: 800px;\n+            margin: 0 auto;\n+            padding: 40px 20px;\n+            background: white;\n+            min-height: 100vh;\n+          }\n+          \n+          .document-header {\n+            text-align: center;\n+            margin-bottom: 40px;\n+            padding-bottom: 20px;\n+            border-bottom: 2px solid #007bff;\n+          }\n+          \n+          .document-title {\n+            font-size: 28px;\n+            font-weight: 700;\n+            color: #333;\n+            margin: 0 0 8px 0;\n+          }\n+          \n+          .document-subtitle {\n+            font-size: 16px;\n+            color: #666;\n+            margin: 0;\n+          }\n+          \n+          .section {\n+            margin-bottom: 40px;\n+            break-inside: avoid;\n+          }\n+          \n+          .section-title {\n+            font-size: 20px;\n+            font-weight: 600;\n+            color: #007bff;\n+            margin: 0 0 20px 0;\n+            padding-bottom: 8px;\n+            border-bottom: 1px solid #dee2e6;\n+          }\n+          \n+          .info-grid {\n+            display: grid;\n+            grid-template-columns: 1fr 1fr;\n+            gap: 16px;\n+            margin-bottom: 20px;\n+          }\n+          \n+          .info-item {\n+            display: flex;\n+            flex-direction: column;\n+            gap: 4px;\n+          }\n+          \n+          .info-label {\n+            font-size: 14px;\n+            color: #666;\n+            font-weight: 500;\n+          }\n+          \n+          .info-value {\n+            font-size: 16px;\n+            color: #333;\n+            padding: 8px 12px;\n+            background: #f8f9fa;\n+            border-radius: 4px;\n+            border: 1px solid #dee2e6;\n+          }\n+          \n+          .product-item {\n+            display: flex;\n+            justify-content: space-between;\n+            align-items: center;\n+            padding: 12px 16px;\n+            background: #f8f9fa;\n+            border-radius: 4px;\n+            border: 1px solid #dee2e6;\n+            margin-bottom: 8px;\n+          }\n+          \n+          .product-name {\n+            font-size: 16px;\n+            color: #333;\n+            flex: 1;\n+          }\n+          \n+          .product-price {\n+            font-size: 16px;\n+            color: #007bff;\n+            font-weight: 600;\n+          }\n+          \n+          .agreement-item {\n+            margin-bottom: 24px;\n+            break-inside: avoid;\n+          }\n+          \n+          .agreement-header {\n+            display: flex;\n+            justify-content: space-between;\n+            align-items: center;\n+            margin-bottom: 12px;\n+            gap: 12px;\n+          }\n+          \n+          .agreement-title {\n+            font-size: 16px;\n+            font-weight: 600;\n+            color: #333;\n+            margin: 0;\n+            flex: 1;\n+          }\n+          \n+          .agreement-status {\n+            padding: 6px 12px;\n+            border-radius: 4px;\n+            font-size: 14px;\n+            font-weight: 500;\n+          }\n+          \n+          .agreement-status.agreed {\n+            background: #e7f5e7;\n+            color: #2d5a2d;\n+            border: 1px solid #c3e6c3;\n+          }\n+          \n+          .agreement-status.not-agreed {\n+            background: #fff2f2;\n+            color: #8b1538;\n+            border: 1px solid #f5c6cb;\n+          }\n+          \n+          .agreement-content {\n+            border: 1px solid #dee2e6;\n+            border-radius: 4px;\n+            background: white;\n+            padding: 16px;\n+            overflow: hidden;\n+          }\n+          \n+          .signature-section {\n+            display: grid;\n+            grid-template-columns: 1fr 1fr;\n+            gap: 24px;\n+            margin-top: 20px;\n+          }\n+          \n+          .signature-box {\n+            text-align: center;\n+            padding: 20px;\n+            border: 1px solid #dee2e6;\n+            border-radius: 8px;\n+            background: #f8f9fa;\n+          }\n+          \n+          .signature-label {\n+            font-size: 14px;\n+            color: #666;\n+            margin-bottom: 12px;\n+            font-weight: 500;\n+          }\n+          \n+          .signature-image {\n+            max-width: 100%;\n+            height: 100px;\n+            border: 1px solid #dee2e6;\n+            border-radius: 4px;\n+            background: white;\n+            object-fit: contain;\n+          }\n+          \n+          .no-signature {\n+            height: 100px;\n+            border: 1px dashed #dee2e6;\n+            border-radius: 4px;\n+            display: flex;\n+            align-items: center;\n+            justify-content: center;\n+            color: #666;\n+            font-size: 14px;\n+            background: white;\n+          }\n+          \n+          @media print {\n+            body {\n+              background: white;\n+            }\n+            \n+            .document-container {\n+              padding: 20px;\n+              box-shadow: none;\n+            }\n+            \n+            .section {\n+              page-break-inside: avoid;\n+            }\n+          }\n+          \n+          @media (max-width: 600px) {\n+            .info-grid,\n+            .signature-section {\n+              grid-template-columns: 1fr;\n+            }\n+          }\n+        </style>\n+      </head>\n+      <body>\n+        <div class=\"document-container\">\n+          <div class=\"document-header\">\n+            <h1 class=\"document-title\">회원 등록 정보</h1>\n+            <p class=\"document-subtitle\">작성일: ${new Date().toLocaleDateString('ko-KR', { \n+              year: 'numeric', \n+              month: 'long', \n+              day: 'numeric' \n+            })}</p>\n+          </div>\n+          \n+          <div class=\"section\">\n+            <h2 class=\"section-title\">1. 기본 정보</h2>\n+            <div class=\"info-grid\">\n+              <div class=\"info-item\">\n+                <span class=\"info-label\">이름</span>\n+                <span class=\"info-value\">${formData.basicInfo.name || '입력되지 않음'}</span>\n+              </div>\n+              <div class=\"info-item\">\n+                <span class=\"info-label\">전화번호</span>\n+                <span class=\"info-value\">${formData.basicInfo.phone || '입력되지 않음'}</span>\n+              </div>\n+              <div class=\"info-item\">\n+                <span class=\"info-label\">이메일</span>\n+                <span class=\"info-value\">${formData.basicInfo.email || '입력되지 않음'}</span>\n+              </div>\n+              <div class=\"info-item\">\n+                <span class=\"info-label\">생년월일</span>\n+                <span class=\"info-value\">${formData.basicInfo.birth || '입력되지 않음'}</span>\n+              </div>\n+              <div class=\"info-item\">\n+                <span class=\"info-label\">성별</span>\n+                <span class=\"info-value\">${\n+                  formData.basicInfo.gender === 'male' ? '남성' : \n+                  formData.basicInfo.gender === 'female' ? '여성' : '선택되지 않음'\n+                }</span>\n+              </div>\n+              <div class=\"info-item\" style=\"grid-column: 1 / -1;\">\n+                <span class=\"info-label\">주소</span>\n+                <span class=\"info-value\">${formData.basicInfo.addressInfo.address || '입력되지 않음'}</span>\n+              </div>\n+            </div>\n+          </div>\n+          \n+          <div class=\"section\">\n+            <h2 class=\"section-title\">2. 가입 정보</h2>\n+            <div class=\"info-grid\">\n+              <div class=\"info-item\">\n+                <span class=\"info-label\">지점</span>\n+                <span class=\"info-value\">${branchName}</span>\n+              </div>\n+              <div class=\"info-item\">\n+                <span class=\"info-label\">담당 코치</span>\n+                <span class=\"info-value\">${coachName}</span>\n+              </div>\n+              <div class=\"info-item\">\n+                <span class=\"info-label\">가입 경로</span>\n+                <span class=\"info-value\">${formData.joinInfo.joinPath || '선택되지 않음'}</span>\n+              </div>\n+              <div class=\"info-item\">\n+                <span class=\"info-label\">로그인 ID</span>\n+                <span class=\"info-value\">${formData.joinInfo.loginId || '입력되지 않음'}</span>\n+              </div>\n+              <div class=\"info-item\">\n+                <span class=\"info-label\">로그인 사용</span>\n+                <span class=\"info-value\">${formData.joinInfo.enableLogin ? '사용' : '사용안함'}</span>\n+              </div>\n+            </div>\n+          </div>\n+          \n+          <div class=\"section\">\n+            <h2 class=\"section-title\">3. 결제 정보</h2>\n+            ${formData.paymentInfo.selectedProducts.length > 0 ? \n+              formData.paymentInfo.selectedProducts.map(product => `\n+                <div class=\"product-item\">\n+                  <span class=\"product-name\">${product.name}</span>\n+                  <span class=\"product-price\">${product.price.toLocaleString()}원</span>\n+                </div>\n+              `).join('') : \n+              '<span class=\"info-value\" style=\"display: block; color: #666;\">선택된 상품이 없습니다</span>'\n+            }\n+          </div>\n+          \n+          <div class=\"section\">\n+            <h2 class=\"section-title\">4. 약관 동의 및 서명</h2>\n+            \n+            <div style=\"margin-bottom: 32px;\">\n+              <h4 style=\"font-size: 16px; font-weight: 600; margin: 0 0 16px 0;\">약관 동의 현황</h4>\n+              ${formData.agreementInfo.agreements.map(agreement => `\n+                <div class=\"agreement-item\">\n+                  <div class=\"agreement-header\">\n+                    <h3 class=\"agreement-title\">\n+                      ${agreement.title} ${agreement.required ? '(필수)' : ''}\n+                    </h3>\n+                    <span class=\"agreement-status ${agreement.agreed ? 'agreed' : 'not-agreed'}\">\n+                      ${agreement.agreed ? '동의함' : '동의안함'}\n+                    </span>\n+                  </div>\n+                  <div class=\"agreement-content\">\n+                    ${agreement.content}\n+                  </div>\n+                </div>\n+              `).join('')}\n+            </div>\n+\n+            <div>\n+              <h4 style=\"font-size: 16px; font-weight: 600; margin: 0 0 16px 0;\">서명</h4>\n+              <div class=\"signature-section\">\n+                <div class=\"signature-box\">\n+                  <div class=\"signature-label\">고객 서명</div>\n+                  ${formData.agreementInfo.customerSignature ? \n+                    `<img class=\"signature-image\" src=\"${formData.agreementInfo.customerSignature}\" alt=\"고객 서명\" />` :\n+                    '<div class=\"no-signature\">서명되지 않음</div>'\n+                  }\n+                  <div style=\"margin-top: 8px; font-size: 12px; color: #666;\">\n+                    위 약관에 동의하며 서명합니다.\n+                  </div>\n+                </div>\n+                <div class=\"signature-box\">\n+                  <div class=\"signature-label\">직원 서명</div>\n+                  ${formData.agreementInfo.staffSignature ? \n+                    `<img class=\"signature-image\" src=\"${formData.agreementInfo.staffSignature}\" alt=\"직원 서명\" />` :\n+                    '<div class=\"no-signature\">서명되지 않음</div>'\n+                  }\n+                  <div style=\"margin-top: 8px; font-size: 12px; color: #666;\">\n+                    약관 설명 및 확인 완료\n+                  </div>\n+                </div>\n+              </div>\n+            </div>\n+          </div>\n+        </div>\n+      </body>\n+      </html>\n+    `);\n+    \n+    newWindow.document.close();\n+    newWindow.focus();\n+  } else {\n+    alert('팝업이 차단되었습니다. 브라우저 설정에서 팝업을 허용해주세요.');\n+  }\n+};\n"
                },
                {
                    "date": 1761373901495,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,805 @@\n+import { toast } from 'react-toastify';\n+import { MemberFormData } from './types';\n+import { dbManager } from '../../../utils/indexedDB';\n+\n+// ID를 이름으로 변환하는 함수들\n+const getBranchName = async (branchId: string): Promise<string> => {\n+  if (!branchId) return '선택되지 않음';\n+  try {\n+    const branches = await dbManager.getAllBranches();\n+    const branch = branches.find(b => b.id === branchId);\n+    return branch ? branch.name : branchId;\n+  } catch (error) {\n+    console.error('지점 이름 조회 실패:', error);\n+    return branchId;\n+  }\n+};\n+\n+const getStaffName = async (staffId: string): Promise<string> => {\n+  if (!staffId) return '선택되지 않음';\n+  try {\n+    const staff = await dbManager.getAllStaff();\n+    const employee = staff.find(s => s.id === staffId);\n+    return employee ? employee.name : staffId;\n+  } catch (error) {\n+    console.error('직원 이름 조회 실패:', error);\n+    return staffId;\n+  }\n+};\n+\n+// HTML 문서 생성 함수\n+const generateDocumentHTML = async (formData: MemberFormData): Promise<string> => {\n+  const branchName = await getBranchName(formData.joinInfo.branchId);\n+  const coachName = await getStaffName(formData.joinInfo.coach);\n+  \n+  return `\n+    <!DOCTYPE html>\n+    <html lang=\"ko\">\n+    <head>\n+      <meta charset=\"UTF-8\">\n+      <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n+      <title>회원 등록 정보 - ${formData.basicInfo.name || '신규회원'}</title>\n+      <style>\n+        * {\n+          margin: 0;\n+          padding: 0;\n+          box-sizing: border-box;\n+        }\n+        \n+        body {\n+          font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif;\n+          line-height: 1.6;\n+          color: #333;\n+          background: #f5f5f5;\n+        }\n+        \n+        .document-container {\n+          width: 100%;\n+          max-width: 800px;\n+          margin: 0 auto;\n+          padding: 40px 20px;\n+          background: white;\n+          min-height: 100vh;\n+        }\n+        \n+        .document-header {\n+          text-align: center;\n+          margin-bottom: 40px;\n+          padding-bottom: 20px;\n+          border-bottom: 2px solid #007bff;\n+        }\n+        \n+        .document-title {\n+          font-size: 28px;\n+          font-weight: 700;\n+          color: #333;\n+          margin: 0 0 8px 0;\n+        }\n+        \n+        .document-subtitle {\n+          font-size: 16px;\n+          color: #666;\n+          margin: 0;\n+        }\n+        \n+        .section {\n+          margin-bottom: 40px;\n+          break-inside: avoid;\n+        }\n+        \n+        .section-title {\n+          font-size: 20px;\n+          font-weight: 600;\n+          color: #007bff;\n+          margin: 0 0 20px 0;\n+          padding-bottom: 8px;\n+          border-bottom: 1px solid #dee2e6;\n+        }\n+        \n+        .info-grid {\n+          display: grid;\n+          grid-template-columns: 1fr 1fr;\n+          gap: 16px;\n+          margin-bottom: 20px;\n+        }\n+        \n+        .info-item {\n+          display: flex;\n+          flex-direction: column;\n+          gap: 4px;\n+        }\n+        \n+        .info-label {\n+          font-size: 14px;\n+          color: #666;\n+          font-weight: 500;\n+        }\n+        \n+        .info-value {\n+          font-size: 16px;\n+          color: #333;\n+          padding: 8px 12px;\n+          background: #f8f9fa;\n+          border-radius: 4px;\n+          border: 1px solid #dee2e6;\n+        }\n+        \n+        .product-item {\n+          display: flex;\n+          justify-content: space-between;\n+          align-items: center;\n+          padding: 12px 16px;\n+          background: #f8f9fa;\n+          border-radius: 4px;\n+          border: 1px solid #dee2e6;\n+          margin-bottom: 8px;\n+        }\n+        \n+        .product-name {\n+          font-size: 16px;\n+          color: #333;\n+          flex: 1;\n+        }\n+        \n+        .product-price {\n+          font-size: 16px;\n+          color: #007bff;\n+          font-weight: 600;\n+        }\n+        \n+        .agreement-item {\n+          margin-bottom: 24px;\n+          break-inside: avoid;\n+        }\n+        \n+        .agreement-header {\n+          display: flex;\n+          justify-content: space-between;\n+          align-items: center;\n+          margin-bottom: 12px;\n+          gap: 12px;\n+        }\n+        \n+        .agreement-title {\n+          font-size: 16px;\n+          font-weight: 600;\n+          color: #333;\n+          margin: 0;\n+          flex: 1;\n+        }\n+        \n+        .agreement-status {\n+          padding: 6px 12px;\n+          border-radius: 4px;\n+          font-size: 14px;\n+          font-weight: 500;\n+        }\n+        \n+        .agreement-status.agreed {\n+          background: #e7f5e7;\n+          color: #2d5a2d;\n+          border: 1px solid #c3e6c3;\n+        }\n+        \n+        .agreement-status.not-agreed {\n+          background: #fff2f2;\n+          color: #8b1538;\n+          border: 1px solid #f5c6cb;\n+        }\n+        \n+        .agreement-content {\n+          border: 1px solid #dee2e6;\n+          border-radius: 4px;\n+          background: white;\n+          padding: 16px;\n+          overflow: hidden;\n+        }\n+        \n+        .signature-section {\n+          display: grid;\n+          grid-template-columns: 1fr 1fr;\n+          gap: 24px;\n+          margin-top: 20px;\n+        }\n+        \n+        .signature-box {\n+          text-align: center;\n+          padding: 20px;\n+          border: 1px solid #dee2e6;\n+          border-radius: 8px;\n+          background: #f8f9fa;\n+        }\n+        \n+        .signature-label {\n+          font-size: 14px;\n+          color: #666;\n+          margin-bottom: 12px;\n+          font-weight: 500;\n+        }\n+        \n+        .signature-image {\n+          max-width: 100%;\n+          height: 100px;\n+          border: 1px solid #dee2e6;\n+          border-radius: 4px;\n+          background: white;\n+          object-fit: contain;\n+        }\n+        \n+        .no-signature {\n+          height: 100px;\n+          border: 1px dashed #dee2e6;\n+          border-radius: 4px;\n+          display: flex;\n+          align-items: center;\n+          justify-content: center;\n+          color: #666;\n+          font-size: 14px;\n+          background: white;\n+        }\n+        \n+        @media print {\n+          body {\n+            background: white;\n+          }\n+          \n+          .document-container {\n+            padding: 20px;\n+            box-shadow: none;\n+          }\n+          \n+          .section {\n+            page-break-inside: avoid;\n+          }\n+        }\n+        \n+        @media (max-width: 600px) {\n+          .info-grid,\n+          .signature-section {\n+            grid-template-columns: 1fr;\n+          }\n+        }\n+      </style>\n+    </head>\n+    <body>\n+      <div class=\"document-container\">\n+        <div class=\"document-header\">\n+          <h1 class=\"document-title\">회원 등록 정보</h1>\n+          <p class=\"document-subtitle\">작성일: ${new Date().toLocaleDateString('ko-KR', { \n+            year: 'numeric', \n+            month: 'long', \n+            day: 'numeric' \n+          })}</p>\n+        </div>\n+        \n+        <div class=\"section\">\n+          <h2 class=\"section-title\">1. 기본 정보</h2>\n+          <div class=\"info-grid\">\n+            <div class=\"info-item\">\n+              <span class=\"info-label\">이름</span>\n+              <span class=\"info-value\">${formData.basicInfo.name || '입력되지 않음'}</span>\n+            </div>\n+            <div class=\"info-item\">\n+              <span class=\"info-label\">전화번호</span>\n+              <span class=\"info-value\">${formData.basicInfo.phone || '입력되지 않음'}</span>\n+            </div>\n+            <div class=\"info-item\">\n+              <span class=\"info-label\">이메일</span>\n+              <span class=\"info-value\">${formData.basicInfo.email || '입력되지 않음'}</span>\n+            </div>\n+            <div class=\"info-item\">\n+              <span class=\"info-label\">생년월일</span>\n+              <span class=\"info-value\">${formData.basicInfo.birth || '입력되지 않음'}</span>\n+            </div>\n+            <div class=\"info-item\">\n+              <span class=\"info-label\">성별</span>\n+              <span class=\"info-value\">${\n+                formData.basicInfo.gender === 'male' ? '남성' : \n+                formData.basicInfo.gender === 'female' ? '여성' : '선택되지 않음'\n+              }</span>\n+            </div>\n+            <div class=\"info-item\" style=\"grid-column: 1 / -1;\">\n+              <span class=\"info-label\">주소</span>\n+              <span class=\"info-value\">${formData.basicInfo.addressInfo.address || '입력되지 않음'}</span>\n+            </div>\n+          </div>\n+        </div>\n+        \n+        <div class=\"section\">\n+          <h2 class=\"section-title\">2. 가입 정보</h2>\n+          <div class=\"info-grid\">\n+            <div class=\"info-item\">\n+              <span class=\"info-label\">지점</span>\n+              <span class=\"info-value\">${branchName}</span>\n+            </div>\n+            <div class=\"info-item\">\n+              <span class=\"info-label\">담당 코치</span>\n+              <span class=\"info-value\">${coachName}</span>\n+            </div>\n+            <div class=\"info-item\">\n+              <span class=\"info-label\">가입 경로</span>\n+              <span class=\"info-value\">${formData.joinInfo.joinPath || '선택되지 않음'}</span>\n+            </div>\n+            <div class=\"info-item\">\n+              <span class=\"info-label\">로그인 ID</span>\n+              <span class=\"info-value\">${formData.joinInfo.loginId || '입력되지 않음'}</span>\n+            </div>\n+            <div class=\"info-item\">\n+              <span class=\"info-label\">로그인 사용</span>\n+              <span class=\"info-value\">${formData.joinInfo.enableLogin ? '사용' : '사용안함'}</span>\n+            </div>\n+          </div>\n+        </div>\n+        \n+        <div class=\"section\">\n+          <h2 class=\"section-title\">3. 결제 정보</h2>\n+          ${formData.paymentInfo.selectedProducts.length > 0 ? \n+            formData.paymentInfo.selectedProducts.map(product => `\n+              <div class=\"product-item\">\n+                <span class=\"product-name\">${product.name}</span>\n+                <span class=\"product-price\">${product.price.toLocaleString()}원</span>\n+              </div>\n+            `).join('') : \n+            '<span class=\"info-value\" style=\"display: block; color: #666;\">선택된 상품이 없습니다</span>'\n+          }\n+        </div>\n+        \n+        <div class=\"section\">\n+          <h2 class=\"section-title\">4. 약관 동의 및 서명</h2>\n+          \n+          <div style=\"margin-bottom: 32px;\">\n+            <h4 style=\"font-size: 16px; font-weight: 600; margin: 0 0 16px 0;\">약관 동의 현황</h4>\n+            ${formData.agreementInfo.agreements.map(agreement => `\n+              <div class=\"agreement-item\">\n+                <div class=\"agreement-header\">\n+                  <h3 class=\"agreement-title\">\n+                    ${agreement.title} ${agreement.required ? '(필수)' : ''}\n+                  </h3>\n+                  <span class=\"agreement-status ${agreement.agreed ? 'agreed' : 'not-agreed'}\">\n+                    ${agreement.agreed ? '동의함' : '동의안함'}\n+                  </span>\n+                </div>\n+                <div class=\"agreement-content\">\n+                  ${agreement.content}\n+                </div>\n+              </div>\n+            `).join('')}\n+          </div>\n+\n+          <div>\n+            <h4 style=\"font-size: 16px; font-weight: 600; margin: 0 0 16px 0;\">서명</h4>\n+            <div class=\"signature-section\">\n+              <div class=\"signature-box\">\n+                <div class=\"signature-label\">고객 서명</div>\n+                ${formData.agreementInfo.customerSignature ? \n+                  `<img class=\"signature-image\" src=\"${formData.agreementInfo.customerSignature}\" alt=\"고객 서명\" />` :\n+                  '<div class=\"no-signature\">서명되지 않음</div>'\n+                }\n+                <div style=\"margin-top: 8px; font-size: 12px; color: #666;\">\n+                  위 약관에 동의하며 서명합니다.\n+                </div>\n+              </div>\n+              <div class=\"signature-box\">\n+                <div class=\"signature-label\">직원 서명</div>\n+                ${formData.agreementInfo.staffSignature ? \n+                  `<img class=\"signature-image\" src=\"${formData.agreementInfo.staffSignature}\" alt=\"직원 서명\" />` :\n+                  '<div class=\"no-signature\">서명되지 않음</div>'\n+                }\n+                <div style=\"margin-top: 8px; font-size: 12px; color: #666;\">\n+                  약관 설명 및 확인 완료\n+                </div>\n+              </div>\n+            </div>\n+          </div>\n+        </div>\n+      </div>\n+    </body>\n+    </html>\n+  `;\n+};\n+\n+// 파일로 저장하는 함수\n+export const saveDocumentAsFile = async (formData: MemberFormData): Promise<string> => {\n+  try {\n+    const html = await generateDocumentHTML(formData);\n+    const fileName = `회원등록_${formData.basicInfo.name || '신규회원'}_${new Date().toISOString().slice(0, 10)}.html`;\n+    \n+    // Blob으로 파일 생성\n+    const blob = new Blob([html], { type: 'text/html;charset=utf-8' });\n+    const url = URL.createObjectURL(blob);\n+    \n+    // 파일 다운로드\n+    const link = document.createElement('a');\n+    link.href = url;\n+    link.download = fileName;\n+    document.body.appendChild(link);\n+    link.click();\n+    document.body.removeChild(link);\n+    URL.revokeObjectURL(url);\n+    \n+    return fileName;\n+  } catch (error) {\n+    console.error('문서 저장 실패:', error);\n+    throw error;\n+  }\n+};\n+\n+// 새창에서 열기 위한 함수\n+export const openPreviewWindow = async (formData: MemberFormData) => {\n+  // 비동기적으로 이름들을 가져오기\n+  const branchName = await getBranchName(formData.joinInfo.branchId);\n+  const coachName = await getStaffName(formData.joinInfo.coach);\n+  const newWindow = window.open('', '_blank', 'width=900,height=700,scrollbars=yes,resizable=yes');\n+  \n+  if (newWindow) {\n+    newWindow.document.write(`\n+      <!DOCTYPE html>\n+      <html lang=\"ko\">\n+      <head>\n+        <meta charset=\"UTF-8\">\n+        <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n+        <title>회원 등록 정보 - ${formData.basicInfo.name || '신규회원'}</title>\n+        <style>\n+          * {\n+            margin: 0;\n+            padding: 0;\n+            box-sizing: border-box;\n+          }\n+          \n+          body {\n+            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif;\n+            line-height: 1.6;\n+            color: #333;\n+            background: #f5f5f5;\n+          }\n+          \n+          .document-container {\n+            width: 100%;\n+            max-width: 800px;\n+            margin: 0 auto;\n+            padding: 40px 20px;\n+            background: white;\n+            min-height: 100vh;\n+          }\n+          \n+          .document-header {\n+            text-align: center;\n+            margin-bottom: 40px;\n+            padding-bottom: 20px;\n+            border-bottom: 2px solid #007bff;\n+          }\n+          \n+          .document-title {\n+            font-size: 28px;\n+            font-weight: 700;\n+            color: #333;\n+            margin: 0 0 8px 0;\n+          }\n+          \n+          .document-subtitle {\n+            font-size: 16px;\n+            color: #666;\n+            margin: 0;\n+          }\n+          \n+          .section {\n+            margin-bottom: 40px;\n+            break-inside: avoid;\n+          }\n+          \n+          .section-title {\n+            font-size: 20px;\n+            font-weight: 600;\n+            color: #007bff;\n+            margin: 0 0 20px 0;\n+            padding-bottom: 8px;\n+            border-bottom: 1px solid #dee2e6;\n+          }\n+          \n+          .info-grid {\n+            display: grid;\n+            grid-template-columns: 1fr 1fr;\n+            gap: 16px;\n+            margin-bottom: 20px;\n+          }\n+          \n+          .info-item {\n+            display: flex;\n+            flex-direction: column;\n+            gap: 4px;\n+          }\n+          \n+          .info-label {\n+            font-size: 14px;\n+            color: #666;\n+            font-weight: 500;\n+          }\n+          \n+          .info-value {\n+            font-size: 16px;\n+            color: #333;\n+            padding: 8px 12px;\n+            background: #f8f9fa;\n+            border-radius: 4px;\n+            border: 1px solid #dee2e6;\n+          }\n+          \n+          .product-item {\n+            display: flex;\n+            justify-content: space-between;\n+            align-items: center;\n+            padding: 12px 16px;\n+            background: #f8f9fa;\n+            border-radius: 4px;\n+            border: 1px solid #dee2e6;\n+            margin-bottom: 8px;\n+          }\n+          \n+          .product-name {\n+            font-size: 16px;\n+            color: #333;\n+            flex: 1;\n+          }\n+          \n+          .product-price {\n+            font-size: 16px;\n+            color: #007bff;\n+            font-weight: 600;\n+          }\n+          \n+          .agreement-item {\n+            margin-bottom: 24px;\n+            break-inside: avoid;\n+          }\n+          \n+          .agreement-header {\n+            display: flex;\n+            justify-content: space-between;\n+            align-items: center;\n+            margin-bottom: 12px;\n+            gap: 12px;\n+          }\n+          \n+          .agreement-title {\n+            font-size: 16px;\n+            font-weight: 600;\n+            color: #333;\n+            margin: 0;\n+            flex: 1;\n+          }\n+          \n+          .agreement-status {\n+            padding: 6px 12px;\n+            border-radius: 4px;\n+            font-size: 14px;\n+            font-weight: 500;\n+          }\n+          \n+          .agreement-status.agreed {\n+            background: #e7f5e7;\n+            color: #2d5a2d;\n+            border: 1px solid #c3e6c3;\n+          }\n+          \n+          .agreement-status.not-agreed {\n+            background: #fff2f2;\n+            color: #8b1538;\n+            border: 1px solid #f5c6cb;\n+          }\n+          \n+          .agreement-content {\n+            border: 1px solid #dee2e6;\n+            border-radius: 4px;\n+            background: white;\n+            padding: 16px;\n+            overflow: hidden;\n+          }\n+          \n+          .signature-section {\n+            display: grid;\n+            grid-template-columns: 1fr 1fr;\n+            gap: 24px;\n+            margin-top: 20px;\n+          }\n+          \n+          .signature-box {\n+            text-align: center;\n+            padding: 20px;\n+            border: 1px solid #dee2e6;\n+            border-radius: 8px;\n+            background: #f8f9fa;\n+          }\n+          \n+          .signature-label {\n+            font-size: 14px;\n+            color: #666;\n+            margin-bottom: 12px;\n+            font-weight: 500;\n+          }\n+          \n+          .signature-image {\n+            max-width: 100%;\n+            height: 100px;\n+            border: 1px solid #dee2e6;\n+            border-radius: 4px;\n+            background: white;\n+            object-fit: contain;\n+          }\n+          \n+          .no-signature {\n+            height: 100px;\n+            border: 1px dashed #dee2e6;\n+            border-radius: 4px;\n+            display: flex;\n+            align-items: center;\n+            justify-content: center;\n+            color: #666;\n+            font-size: 14px;\n+            background: white;\n+          }\n+          \n+          @media print {\n+            body {\n+              background: white;\n+            }\n+            \n+            .document-container {\n+              padding: 20px;\n+              box-shadow: none;\n+            }\n+            \n+            .section {\n+              page-break-inside: avoid;\n+            }\n+          }\n+          \n+          @media (max-width: 600px) {\n+            .info-grid,\n+            .signature-section {\n+              grid-template-columns: 1fr;\n+            }\n+          }\n+        </style>\n+      </head>\n+      <body>\n+        <div class=\"document-container\">\n+          <div class=\"document-header\">\n+            <h1 class=\"document-title\">회원 등록 정보</h1>\n+            <p class=\"document-subtitle\">작성일: ${new Date().toLocaleDateString('ko-KR', { \n+              year: 'numeric', \n+              month: 'long', \n+              day: 'numeric' \n+            })}</p>\n+          </div>\n+          \n+          <div class=\"section\">\n+            <h2 class=\"section-title\">1. 기본 정보</h2>\n+            <div class=\"info-grid\">\n+              <div class=\"info-item\">\n+                <span class=\"info-label\">이름</span>\n+                <span class=\"info-value\">${formData.basicInfo.name || '입력되지 않음'}</span>\n+              </div>\n+              <div class=\"info-item\">\n+                <span class=\"info-label\">전화번호</span>\n+                <span class=\"info-value\">${formData.basicInfo.phone || '입력되지 않음'}</span>\n+              </div>\n+              <div class=\"info-item\">\n+                <span class=\"info-label\">이메일</span>\n+                <span class=\"info-value\">${formData.basicInfo.email || '입력되지 않음'}</span>\n+              </div>\n+              <div class=\"info-item\">\n+                <span class=\"info-label\">생년월일</span>\n+                <span class=\"info-value\">${formData.basicInfo.birth || '입력되지 않음'}</span>\n+              </div>\n+              <div class=\"info-item\">\n+                <span class=\"info-label\">성별</span>\n+                <span class=\"info-value\">${\n+                  formData.basicInfo.gender === 'male' ? '남성' : \n+                  formData.basicInfo.gender === 'female' ? '여성' : '선택되지 않음'\n+                }</span>\n+              </div>\n+              <div class=\"info-item\" style=\"grid-column: 1 / -1;\">\n+                <span class=\"info-label\">주소</span>\n+                <span class=\"info-value\">${formData.basicInfo.addressInfo.address || '입력되지 않음'}</span>\n+              </div>\n+            </div>\n+          </div>\n+          \n+          <div class=\"section\">\n+            <h2 class=\"section-title\">2. 가입 정보</h2>\n+            <div class=\"info-grid\">\n+              <div class=\"info-item\">\n+                <span class=\"info-label\">지점</span>\n+                <span class=\"info-value\">${branchName}</span>\n+              </div>\n+              <div class=\"info-item\">\n+                <span class=\"info-label\">담당 코치</span>\n+                <span class=\"info-value\">${coachName}</span>\n+              </div>\n+              <div class=\"info-item\">\n+                <span class=\"info-label\">가입 경로</span>\n+                <span class=\"info-value\">${formData.joinInfo.joinPath || '선택되지 않음'}</span>\n+              </div>\n+              <div class=\"info-item\">\n+                <span class=\"info-label\">로그인 ID</span>\n+                <span class=\"info-value\">${formData.joinInfo.loginId || '입력되지 않음'}</span>\n+              </div>\n+              <div class=\"info-item\">\n+                <span class=\"info-label\">로그인 사용</span>\n+                <span class=\"info-value\">${formData.joinInfo.enableLogin ? '사용' : '사용안함'}</span>\n+              </div>\n+            </div>\n+          </div>\n+          \n+          <div class=\"section\">\n+            <h2 class=\"section-title\">3. 결제 정보</h2>\n+            ${formData.paymentInfo.selectedProducts.length > 0 ? \n+              formData.paymentInfo.selectedProducts.map(product => `\n+                <div class=\"product-item\">\n+                  <span class=\"product-name\">${product.name}</span>\n+                  <span class=\"product-price\">${product.price.toLocaleString()}원</span>\n+                </div>\n+              `).join('') : \n+              '<span class=\"info-value\" style=\"display: block; color: #666;\">선택된 상품이 없습니다</span>'\n+            }\n+          </div>\n+          \n+          <div class=\"section\">\n+            <h2 class=\"section-title\">4. 약관 동의 및 서명</h2>\n+            \n+            <div style=\"margin-bottom: 32px;\">\n+              <h4 style=\"font-size: 16px; font-weight: 600; margin: 0 0 16px 0;\">약관 동의 현황</h4>\n+              ${formData.agreementInfo.agreements.map(agreement => `\n+                <div class=\"agreement-item\">\n+                  <div class=\"agreement-header\">\n+                    <h3 class=\"agreement-title\">\n+                      ${agreement.title} ${agreement.required ? '(필수)' : ''}\n+                    </h3>\n+                    <span class=\"agreement-status ${agreement.agreed ? 'agreed' : 'not-agreed'}\">\n+                      ${agreement.agreed ? '동의함' : '동의안함'}\n+                    </span>\n+                  </div>\n+                  <div class=\"agreement-content\">\n+                    ${agreement.content}\n+                  </div>\n+                </div>\n+              `).join('')}\n+            </div>\n+\n+            <div>\n+              <h4 style=\"font-size: 16px; font-weight: 600; margin: 0 0 16px 0;\">서명</h4>\n+              <div class=\"signature-section\">\n+                <div class=\"signature-box\">\n+                  <div class=\"signature-label\">고객 서명</div>\n+                  ${formData.agreementInfo.customerSignature ? \n+                    `<img class=\"signature-image\" src=\"${formData.agreementInfo.customerSignature}\" alt=\"고객 서명\" />` :\n+                    '<div class=\"no-signature\">서명되지 않음</div>'\n+                  }\n+                  <div style=\"margin-top: 8px; font-size: 12px; color: #666;\">\n+                    위 약관에 동의하며 서명합니다.\n+                  </div>\n+                </div>\n+                <div class=\"signature-box\">\n+                  <div class=\"signature-label\">직원 서명</div>\n+                  ${formData.agreementInfo.staffSignature ? \n+                    `<img class=\"signature-image\" src=\"${formData.agreementInfo.staffSignature}\" alt=\"직원 서명\" />` :\n+                    '<div class=\"no-signature\">서명되지 않음</div>'\n+                  }\n+                  <div style=\"margin-top: 8px; font-size: 12px; color: #666;\">\n+                    약관 설명 및 확인 완료\n+                  </div>\n+                </div>\n+              </div>\n+            </div>\n+          </div>\n+        </div>\n+      </body>\n+      </html>\n+    `);\n+    \n+    newWindow.document.close();\n+    newWindow.focus();\n+  } else {\n+    toast.error('팝업이 차단되었습니다. 브라우저 설정에서 팝업을 허용해주세요.');\n+  }\n+};\n"
                }
            ],
            "date": 1760252813083,
            "name": "Commit-0",
            "content": "import { MemberFormData } from './types';\n\n// 새창에서 열기 위한 함수\nexport const openPreviewWindow = (formData: MemberFormData) => {\n  const newWindow = window.open('', '_blank', 'width=900,height=700,scrollbars=yes,resizable=yes');\n  \n  if (newWindow) {\n    newWindow.document.write(`\n      <!DOCTYPE html>\n      <html lang=\"ko\">\n      <head>\n        <meta charset=\"UTF-8\">\n        <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n        <title>회원 등록 정보 - ${formData.basicInfo.name || '신규회원'}</title>\n        <style>\n          * {\n            margin: 0;\n            padding: 0;\n            box-sizing: border-box;\n          }\n          \n          body {\n            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif;\n            line-height: 1.6;\n            color: #333;\n            background: #f5f5f5;\n          }\n          \n          .document-container {\n            width: 100%;\n            max-width: 800px;\n            margin: 0 auto;\n            padding: 40px 20px;\n            background: white;\n            min-height: 100vh;\n          }\n          \n          .document-header {\n            text-align: center;\n            margin-bottom: 40px;\n            padding-bottom: 20px;\n            border-bottom: 2px solid #007bff;\n          }\n          \n          .document-title {\n            font-size: 28px;\n            font-weight: 700;\n            color: #333;\n            margin: 0 0 8px 0;\n          }\n          \n          .document-subtitle {\n            font-size: 16px;\n            color: #666;\n            margin: 0;\n          }\n          \n          .section {\n            margin-bottom: 40px;\n            break-inside: avoid;\n          }\n          \n          .section-title {\n            font-size: 20px;\n            font-weight: 600;\n            color: #007bff;\n            margin: 0 0 20px 0;\n            padding-bottom: 8px;\n            border-bottom: 1px solid #dee2e6;\n          }\n          \n          .info-grid {\n            display: grid;\n            grid-template-columns: 1fr 1fr;\n            gap: 16px;\n            margin-bottom: 20px;\n          }\n          \n          .info-item {\n            display: flex;\n            flex-direction: column;\n            gap: 4px;\n          }\n          \n          .info-label {\n            font-size: 14px;\n            color: #666;\n            font-weight: 500;\n          }\n          \n          .info-value {\n            font-size: 16px;\n            color: #333;\n            padding: 8px 12px;\n            background: #f8f9fa;\n            border-radius: 4px;\n            border: 1px solid #dee2e6;\n          }\n          \n          .product-item {\n            display: flex;\n            justify-content: space-between;\n            align-items: center;\n            padding: 12px 16px;\n            background: #f8f9fa;\n            border-radius: 4px;\n            border: 1px solid #dee2e6;\n            margin-bottom: 8px;\n          }\n          \n          .product-name {\n            font-size: 16px;\n            color: #333;\n            flex: 1;\n          }\n          \n          .product-price {\n            font-size: 16px;\n            color: #007bff;\n            font-weight: 600;\n          }\n          \n          .agreement-item {\n            margin-bottom: 24px;\n            break-inside: avoid;\n          }\n          \n          .agreement-header {\n            display: flex;\n            justify-content: space-between;\n            align-items: center;\n            margin-bottom: 12px;\n            gap: 12px;\n          }\n          \n          .agreement-title {\n            font-size: 16px;\n            font-weight: 600;\n            color: #333;\n            margin: 0;\n            flex: 1;\n          }\n          \n          .agreement-status {\n            padding: 6px 12px;\n            border-radius: 4px;\n            font-size: 14px;\n            font-weight: 500;\n          }\n          \n          .agreement-status.agreed {\n            background: #e7f5e7;\n            color: #2d5a2d;\n            border: 1px solid #c3e6c3;\n          }\n          \n          .agreement-status.not-agreed {\n            background: #fff2f2;\n            color: #8b1538;\n            border: 1px solid #f5c6cb;\n          }\n          \n          .agreement-content {\n            border: 1px solid #dee2e6;\n            border-radius: 4px;\n            background: white;\n            padding: 16px;\n            overflow: hidden;\n          }\n          \n          .signature-section {\n            display: grid;\n            grid-template-columns: 1fr 1fr;\n            gap: 24px;\n            margin-top: 20px;\n          }\n          \n          .signature-box {\n            text-align: center;\n            padding: 20px;\n            border: 1px solid #dee2e6;\n            border-radius: 8px;\n            background: #f8f9fa;\n          }\n          \n          .signature-label {\n            font-size: 14px;\n            color: #666;\n            margin-bottom: 12px;\n            font-weight: 500;\n          }\n          \n          .signature-image {\n            max-width: 100%;\n            height: 100px;\n            border: 1px solid #dee2e6;\n            border-radius: 4px;\n            background: white;\n            object-fit: contain;\n          }\n          \n          .no-signature {\n            height: 100px;\n            border: 1px dashed #dee2e6;\n            border-radius: 4px;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: #666;\n            font-size: 14px;\n            background: white;\n          }\n          \n          @media print {\n            body {\n              background: white;\n            }\n            \n            .document-container {\n              padding: 20px;\n              box-shadow: none;\n            }\n            \n            .section {\n              page-break-inside: avoid;\n            }\n          }\n          \n          @media (max-width: 600px) {\n            .info-grid,\n            .signature-section {\n              grid-template-columns: 1fr;\n            }\n          }\n        </style>\n      </head>\n      <body>\n        <div class=\"document-container\">\n          <div class=\"document-header\">\n            <h1 class=\"document-title\">회원 등록 정보</h1>\n            <p class=\"document-subtitle\">작성일: ${new Date().toLocaleDateString('ko-KR', { \n              year: 'numeric', \n              month: 'long', \n              day: 'numeric' \n            })}</p>\n          </div>\n          \n          <div class=\"section\">\n            <h2 class=\"section-title\">1. 기본 정보</h2>\n            <div class=\"info-grid\">\n              <div class=\"info-item\">\n                <span class=\"info-label\">이름</span>\n                <span class=\"info-value\">${formData.basicInfo.name || '입력되지 않음'}</span>\n              </div>\n              <div class=\"info-item\">\n                <span class=\"info-label\">전화번호</span>\n                <span class=\"info-value\">${formData.basicInfo.phone || '입력되지 않음'}</span>\n              </div>\n              <div class=\"info-item\">\n                <span class=\"info-label\">이메일</span>\n                <span class=\"info-value\">${formData.basicInfo.email || '입력되지 않음'}</span>\n              </div>\n              <div class=\"info-item\">\n                <span class=\"info-label\">생년월일</span>\n                <span class=\"info-value\">${formData.basicInfo.birth || '입력되지 않음'}</span>\n              </div>\n              <div class=\"info-item\">\n                <span class=\"info-label\">성별</span>\n                <span class=\"info-value\">${\n                  formData.basicInfo.gender === 'male' ? '남성' : \n                  formData.basicInfo.gender === 'female' ? '여성' : '선택되지 않음'\n                }</span>\n              </div>\n              <div class=\"info-item\" style=\"grid-column: 1 / -1;\">\n                <span class=\"info-label\">주소</span>\n                <span class=\"info-value\">${formData.basicInfo.addressInfo.address || '입력되지 않음'}</span>\n              </div>\n            </div>\n          </div>\n          \n          <div class=\"section\">\n            <h2 class=\"section-title\">2. 가입 정보</h2>\n            <div class=\"info-grid\">\n              <div class=\"info-item\">\n                <span class=\"info-label\">지점</span>\n                <span class=\"info-value\">${formData.joinInfo.branchId || '선택되지 않음'}</span>\n              </div>\n              <div class=\"info-item\">\n                <span class=\"info-label\">담당 코치</span>\n                <span class=\"info-value\">${formData.joinInfo.coach || '선택되지 않음'}</span>\n              </div>\n              <div class=\"info-item\">\n                <span class=\"info-label\">가입 경로</span>\n                <span class=\"info-value\">${formData.joinInfo.joinPath || '선택되지 않음'}</span>\n              </div>\n              <div class=\"info-item\">\n                <span class=\"info-label\">로그인 ID</span>\n                <span class=\"info-value\">${formData.joinInfo.loginId || '입력되지 않음'}</span>\n              </div>\n              <div class=\"info-item\">\n                <span class=\"info-label\">로그인 사용</span>\n                <span class=\"info-value\">${formData.joinInfo.enableLogin ? '사용' : '사용안함'}</span>\n              </div>\n            </div>\n          </div>\n          \n          <div class=\"section\">\n            <h2 class=\"section-title\">3. 결제 정보</h2>\n            ${formData.paymentInfo.selectedProducts.length > 0 ? \n              formData.paymentInfo.selectedProducts.map(product => `\n                <div class=\"product-item\">\n                  <span class=\"product-name\">${product.name}</span>\n                  <span class=\"product-price\">${product.price.toLocaleString()}원</span>\n                </div>\n              `).join('') : \n              '<span class=\"info-value\" style=\"display: block; color: #666;\">선택된 상품이 없습니다</span>'\n            }\n          </div>\n          \n          <div class=\"section\">\n            <h2 class=\"section-title\">4. 약관 동의 및 서명</h2>\n            \n            <div style=\"margin-bottom: 32px;\">\n              <h4 style=\"font-size: 16px; font-weight: 600; margin: 0 0 16px 0;\">약관 동의 현황</h4>\n              ${formData.agreementInfo.agreements.map(agreement => `\n                <div class=\"agreement-item\">\n                  <div class=\"agreement-header\">\n                    <h3 class=\"agreement-title\">\n                      ${agreement.title} ${agreement.required ? '(필수)' : ''}\n                    </h3>\n                    <span class=\"agreement-status ${agreement.agreed ? 'agreed' : 'not-agreed'}\">\n                      ${agreement.agreed ? '동의함' : '동의안함'}\n                    </span>\n                  </div>\n                  <div class=\"agreement-content\">\n                    ${agreement.content}\n                  </div>\n                </div>\n              `).join('')}\n            </div>\n\n            <div>\n              <h4 style=\"font-size: 16px; font-weight: 600; margin: 0 0 16px 0;\">서명</h4>\n              <div class=\"signature-section\">\n                <div class=\"signature-box\">\n                  <div class=\"signature-label\">고객 서명</div>\n                  ${formData.agreementInfo.customerSignature ? \n                    `<img class=\"signature-image\" src=\"${formData.agreementInfo.customerSignature}\" alt=\"고객 서명\" />` :\n                    '<div class=\"no-signature\">서명되지 않음</div>'\n                  }\n                  <div style=\"margin-top: 8px; font-size: 12px; color: #666;\">\n                    위 약관에 동의하며 서명합니다.\n                  </div>\n                </div>\n                <div class=\"signature-box\">\n                  <div class=\"signature-label\">직원 서명</div>\n                  ${formData.agreementInfo.staffSignature ? \n                    `<img class=\"signature-image\" src=\"${formData.agreementInfo.staffSignature}\" alt=\"직원 서명\" />` :\n                    '<div class=\"no-signature\">서명되지 않음</div>'\n                  }\n                  <div style=\"margin-top: 8px; font-size: 12px; color: #666;\">\n                    약관 설명 및 확인 완료\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </body>\n      </html>\n    `);\n    \n    newWindow.document.close();\n    newWindow.focus();\n  } else {\n    alert('팝업이 차단되었습니다. 브라우저 설정에서 팝업을 허용해주세요.');\n  }\n};\n"
        }
    ]
}