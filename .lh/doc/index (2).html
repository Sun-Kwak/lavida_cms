<!doctype html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <title>LaVida CRM â€“ Ribbon UI (No Subpages)</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <!-- ë³´ê¸° ì¢‹ì€ ê¸°ë³¸ í°íŠ¸ -->
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;600;700&display=swap" rel="stylesheet">

  <style>
    :root{
      --bg:#f6f7fb; --text:#0f172a; --muted:#475569; --white:#fff;
      --border:#e5e7eb; --brand:#6d28d9; --brand-ink:#fff;
      --chip:#f1f5f9; --chip-ink:#0f172a; --btn:#eef2f7; --btn-hover:#e3e8f2;
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0; background:var(--bg); color:var(--text);
      font-family:"Noto Sans KR", system-ui, -apple-system, Segoe UI, Roboto, sans-serif;
    }

    /* Layout */
    .container{max-width:1100px; margin:0 auto; padding:0 16px}
    .topbar{position:sticky; top:0; z-index:50; background:rgba(255,255,255,.9); backdrop-filter:saturate(180%) blur(6px); border-bottom:1px solid var(--border)}
    .topbar-row{display:flex; flex-wrap:wrap; gap:8px; align-items:center; padding:12px 0}
    .brand{display:flex; align-items:center; gap:10px; font-weight:700}
    .brand-dot{width:32px; height:32px; border-radius:12px; background:var(--brand)}

    /* Tabs */
    .tabs{display:flex; flex-wrap:wrap; gap:8px; margin-left:12px}
    .tab{padding:8px 12px; border:1px solid var(--border); border-radius:12px; background:#fff; color:#1f2937; cursor:pointer; font-size:14px}
    .tab.active{background:var(--brand); color:var(--brand-ink); border-color:var(--brand)}
    .tab .ico{margin-right:6px}

    /* Ribbon / Toolbar */
    .ribbon{border-top:1px solid var(--border)}
    .ribbon-row{display:flex; flex-wrap:wrap; gap:8px; padding:10px 0}
    .toolbtn{padding:8px 12px; border-radius:12px; background:var(--btn); cursor:pointer; font-size:14px; border:1px solid var(--border)}
    .toolbtn:hover{background:var(--btn-hover)}

    /* Main */
    .main{padding:24px 0}
    .card{background:#fff; border:1px solid var(--border); border-radius:16px; box-shadow:0 1px 2px rgba(16,24,40,.04)}
    .card-hd{padding:14px 16px; border-bottom:1px solid var(--border); font-weight:600}
    .card-bd{padding:16px}

    .grid{display:grid; gap:16px}
    @media(min-width:980px){ .grid-3{grid-template-columns: 2fr 1fr;} }

    /* Search */
    .search-row{display:flex; gap:8px; align-items:center}
    .input{flex:1; padding:10px 12px; border:1px solid var(--border); border-radius:12px; font-size:14px}
    .btn{padding:10px 14px; border:none; border-radius:12px; background:var(--brand); color:#fff; cursor:pointer; font-weight:600}
    .btn.secondary{background:#fff; color:#111827; border:1px solid var(--border)}
    .btn.full{width:100%}

    /* Table */
    table{width:100%; border-collapse:collapse; font-size:14px}
    thead{background:#f8fafc}
    th, td{padding:10px 12px; text-align:left; border-top:1px solid var(--border)}
    tr:hover td{background:#f7f5ff}

    .chip{display:inline-block; padding:4px 8px; background:var(--chip); color:var(--chip-ink); border-radius:999px; margin-right:6px; margin-bottom:4px; font-size:12px}

    /* Stat */
    .stat{padding:12px; border:1px solid var(--border); border-radius:14px; background:#fff}
    .stat .label{font-size:12px; color:var(--muted)}
    .stat .val{font-size:22px; font-weight:700; margin-top:2px}

    /* Modal */
    .modal-backdrop{position:fixed; inset:0; background:rgba(0,0,0,.28); display:flex; align-items:center; justify-content:center}
    .modal{background:#fff; width:min(560px, 92vw); border-radius:16px; border:1px solid var(--border); box-shadow:0 12px 40px rgba(0,0,0,.18)}
    .modal-hd{padding:14px 16px; border-bottom:1px solid var(--border); font-weight:700}
    .modal-bd{padding:16px}
    .modal-ft{padding:14px 16px; border-top:1px solid var(--border); text-align:right}
  </style>
</head>
<body>
  <!-- Header / Tabs -->
  <div class="topbar">
    <div class="container">
      <div class="topbar-row">
        <div class="brand">
          <div class="brand-dot"></div>
          <div>LaVida CRM</div>
        </div>
        <div id="tabs" class="tabs"></div>
      </div>
    </div>
    <div class="ribbon">
      <div class="container">
        <div id="ribbon" class="ribbon-row"></div>
      </div>
    </div>
  </div>

  <!-- Main -->
  <div class="container main">
    <div class="grid grid-3">
      <div class="left-col">
        <div class="card" style="margin-bottom:16px">
          <div class="card-hd">ë¹ ë¥¸ ê²€ìƒ‰</div>
          <div class="card-bd">
            <div class="search-row">
              <input id="search" class="input" placeholder="íšŒì›ëª… / ID / ì½”ì¹˜ ê²€ìƒ‰" />
              <button class="btn" onclick="onSearch()">ê²€ìƒ‰</button>
              <button class="btn secondary" onclick="toggleFilter()">í•„í„°</button>
            </div>
            <div id="filterPanel" style="display:none; margin-top:10px">
              <button class="toolbtn" onclick="alert('WBMë§Œ ë³´ê¸° (ë°ëª¨)')">WBMë§Œ</button>
              <button class="toolbtn" onclick="alert('ë¦´ë ‰ì‹±ë§Œ ë³´ê¸° (ë°ëª¨)')">ë¦´ë ‰ì‹±ë§Œ</button>
              <button class="toolbtn" onclick="alert('íœ´ë©´ë§Œ ë³´ê¸° (ë°ëª¨)')">íœ´ë©´ë§Œ</button>
            </div>
          </div>
        </div>

        <div class="card">
          <div class="card-hd">íšŒì› ëª©ë¡</div>
          <div class="card-bd" style="overflow:auto">
            <table id="table">
              <thead>
              <tr>
                <th>íšŒì›ID</th><th>ì´ë¦„</th><th>íƒœê·¸</th><th>ë‹´ë‹¹ ì½”ì¹˜</th>
                <th>í¬ì¸íŠ¸</th><th>ì”ì—¬</th><th>ìµœê·¼ ë‚´ì›</th>
              </tr>
              </thead>
              <tbody id="tbody"></tbody>
            </table>
          </div>
        </div>
      </div>

      <div class="right-col">
        <div class="card" style="margin-bottom:16px">
          <div class="card-hd">ì˜¤ëŠ˜ì˜ ìš”ì•½</div>
          <div class="card-bd" style="display:grid; grid-template-columns:1fr 1fr; gap:12px">
            <div class="stat"><div class="label">ê¸ˆì¼ ì˜ˆì•½</div><div id="s1" class="val">42</div></div>
            <div class="stat"><div class="label">ì²´í¬ì¸</div><div id="s2" class="val">35</div></div>
            <div class="stat"><div class="label">ì™„ë£Œ ì„¸ì…˜</div><div id="s3" class="val">29</div></div>
            <div class="stat"><div class="label">ì·¨ì†Œ/ë…¸ì‡¼</div><div id="s4" class="val">4</div></div>
          </div>
        </div>

        <div class="card">
          <div class="card-hd">ì•Œë¦¼ ì„¼í„°</div>
          <div class="card-bd">
            <div style="display:flex; justify-content:space-between"><span>ì˜ˆì•½ D-1 ë¦¬ë§ˆì¸ë“œ ë°œì†¡</span><strong>24ê±´</strong></div>
            <div style="display:flex; justify-content:space-between; color:#475569; margin-top:6px"><span>íœ´ë©´ 30ì¼ ëŒ€ìƒ</span><strong>7ëª…</strong></div>
            <div style="display:flex; justify-content:space-between; color:#b91c1c; margin-top:6px"><span>ì”ì—¬ì„¸ì…˜ 1íšŒ ì´í•˜</span><strong>5ëª…</strong></div>
            <button class="btn secondary full" style="margin-top:12px" onclick="openModal('ë‹¨ë¬¸ ë³´ë‚´ê¸°','ëŒ€ìƒìì—ê²Œ ì¦‰ì‹œ ë¬¸ì/ì•Œë¦¼í†¡ ë°œì†¡ (ë°ëª¨)')">ëŒ€ìƒì ë¬¸ì ë³´ë‚´ê¸°</button>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Modal -->
  <div id="modalRoot" style="display:none" class="modal-backdrop" onclick="closeModal(event)">
    <div class="modal" onclick="event.stopPropagation()">
      <div id="modalTitle" class="modal-hd">ì œëª©</div>
      <div id="modalBody" class="modal-bd">ë‚´ìš©</div>
      <div class="modal-ft">
        <button class="btn secondary" onclick="closeModal()">ë‹«ê¸°</button>
      </div>
    </div>
  </div>

  <script>
    // ===== ë°ì´í„° =====
    const MENU = {
      "íšŒì›ê´€ë¦¬": { icon: "ğŸ‘¥", actions: ["ì‹ ê·œ ë“±ë¡","ë¹ ë¥¸ ê²€ìƒ‰","íƒœê·¸ ê´€ë¦¬","QR ì²´í¬ì¸","ë‚´ì› ê¸°ë¡","ì—‘ì…€ ì—…ë¡œë“œ","ë‚´ë³´ë‚´ê¸°"] },
      "ì˜ˆì•½/ìŠ¤ì¼€ì¤„": { icon: "ğŸ“…", actions: ["ì‹ ê·œ ì˜ˆì•½","ì‹œê°„í‘œ ë³´ê¸°","ì¼ê´„ ì˜ˆì•½","ëŒ€ê¸° ê´€ë¦¬","ìë™ ë¦¬ë§ˆì¸ë“œ"] },
      "ìš´ë™ì²˜ë°©": { icon: "ğŸ‹ï¸â€â™€ï¸", actions: ["í‰ê°€ ë“±ë¡","ì²´í˜• ë¶„ì„","ë³´í–‰/ì¡±ì €ì••","í”„ë¡œê·¸ë¨ ë°°ì •","QR ì¹´ë“œ ì¶œë ¥"] },
      "ë¦´ë ‰ì‹±": { icon: "ğŸ›ï¸", actions: ["ë² ë“œ ë°°ì •","íƒ€ì´ë¨¸","íšŒì°¨ê¶Œ ê´€ë¦¬","ì»¨ë””ì…˜ ë…¸íŠ¸","ê¸ˆì¼ í˜„í™©"] },
      "ê²°ì œ/í¬ì¸íŠ¸": { icon: "ğŸ’³", actions: ["ê²°ì œ ë“±ë¡","í¬ì¸íŠ¸ ì¶©ì „","í™˜ë¶ˆ/ì¡°ì •","ì˜ìˆ˜ì¦ ë³´ë‚´ê¸°","ë§¤ì¶œ ëŒ€ì‹œë³´ë“œ"] },
      "ì•Œë¦¼/ë¬¸ì": { icon: "ğŸ””", actions: ["ë‹¨ë¬¸ ë³´ë‚´ê¸°","ì˜ˆì•½ ë¦¬ë§ˆì¸ë“œ","ìƒì¼/íœ´ë©´","ì¿ í° ë°œì†¡","í…œí”Œë¦¿ ê´€ë¦¬"] },
      "í†µê³„/ë¦¬í¬íŠ¸": { icon: "ğŸ“Š", actions: ["ì¼/ì£¼/ì›”","ì½”ì¹˜ë³„ KPI","ì”ì—¬ ì„¸ì…˜","ì´íƒˆ ìœ„í—˜","NPS ì„¤ë¬¸"] },
      "ì„¤ì •": { icon: "âš™ï¸", actions: ["ì§ì›/ê¶Œí•œ","í”„ë¡œê·¸ë¨/ê°€ê²©","ì±„ë„ ì—°ë™","ë°ì´í„° ë°±ì—…"] },
    };

    const MEMBERS = [
      { id:"LV0001", name:"ê¹€ë¼ë¹„", tags:["WBM","ë¦´ë ‰ì‹±"], coach:"í•œìˆ˜ë¯¼", points:120000, remain:8, lastVisit:"2025-09-07" },
      { id:"LV0002", name:"ë°•ë´„", tags:["ë¦´ë ‰ì‹±"], coach:"ì„ì •í˜„", points:40000, remain:2, lastVisit:"2025-09-09" },
      { id:"LV0003", name:"ìµœë‹¤ì›€", tags:["WBM"], coach:"ë¯¼ì›…í¬", points:0, remain:0, lastVisit:"2025-08-28" },
      { id:"LV0004", name:"ì´ì§€ìœ ", tags:["WBM","VIP"], coach:"í•œìˆ˜ë¯¼", points:320000, remain:14, lastVisit:"2025-09-10" },
    ];

    // ===== ìƒíƒœ =====
    let selectedMenu = "íšŒì›ê´€ë¦¬";
    let query = "";

    // ===== ì´ˆê¸°í™” =====
    function init(){
      renderTabs();
      renderRibbon();
      renderTable(MEMBERS);
    }

    // Tabs
    function renderTabs(){
      const el = document.getElementById("tabs");
      el.innerHTML = "";
      Object.keys(MENU).forEach(k=>{
        const b = document.createElement("button");
        b.className = "tab" + (k===selectedMenu ? " active" : "");
        b.innerHTML = `<span class="ico">${MENU[k].icon}</span>${k}`;
        b.onclick = ()=>{
          selectedMenu = k;
          renderTabs();
          renderRibbon();
          document.querySelector(".card-hd + .card-bd input#search")?.focus();
        };
        el.appendChild(b);
      });
    }

    // Ribbon
    function renderRibbon(){
      const el = document.getElementById("ribbon");
      el.innerHTML = "";
      MENU[selectedMenu].actions.forEach(label=>{
        const b = document.createElement("button");
        b.className = "toolbtn";
        b.textContent = label;
        b.onclick = ()=> handleAction(label);
        el.appendChild(b);
      });
    }

    function handleAction(label){
      // ì‹¤ì œ ì—°ë™ í¬ì¸íŠ¸
      switch(label){
        case "ë¹ ë¥¸ ê²€ìƒ‰":
          document.getElementById("search").focus();
          break;
        case "ì‹ ê·œ ë“±ë¡":
          openModal("ì‹ ê·œ íšŒì› ë“±ë¡",
            `<div>
              <div style="display:grid; gap:8px">
                <label>ì´ë¦„ <input class="input" placeholder="í™ê¸¸ë™"/></label>
                <label>ì—°ë½ì²˜ <input class="input" placeholder="010-0000-0000"/></label>
                <label>íƒœê·¸ <input class="input" placeholder="WBM, ë¦´ë ‰ì‹±"/></label>
              </div>
            </div>`);
          break;
        case "ì‹œê°„í‘œ ë³´ê¸°":
          openModal("ì‹œê°„í‘œ ë³´ê¸°", "ì˜¤ëŠ˜ì˜ WBM/ë¦´ë ‰ì‹±/ìŠ¤íŠ¸ë ˆì¹­ ì‹œê°„í‘œ (ë°ëª¨)");
          break;
        case "ë² ë“œ ë°°ì •":
          openModal("ë² ë“œ ë°°ì •", "ë¦´ë ‰ì‹± ë² ë“œ ë²ˆí˜¸ ì§€ì • ë° íšŒì°¨ ì†Œëª¨ ê¸°ë¡ (ë°ëª¨)");
          break;
        case "ë§¤ì¶œ ëŒ€ì‹œë³´ë“œ":
          openModal("ë§¤ì¶œ ëŒ€ì‹œë³´ë“œ", "ì¼/ì£¼/ì›” ë§¤ì¶œ, ìƒí’ˆ ë¹„ì¤‘, ê°ë‹¨ê°€, ì „í™˜ìœ¨ (ë°ëª¨)");
          break;
        default:
          openModal(label, `${label} ì‹¤í–‰ (ë°ëª¨)`);
      }
    }

    // Search
    function onSearch(){
      query = (document.getElementById("search").value || "").toLowerCase().trim();
      const data = MEMBERS.filter(m =>
        m.id.toLowerCase().includes(query) ||
        m.name.toLowerCase().includes(query) ||
        m.coach.toLowerCase().includes(query)
      );
      renderTable(data);
    }
    function toggleFilter(){
      const p = document.getElementById("filterPanel");
      p.style.display = (p.style.display==="none"||!p.style.display) ? "block" : "none";
    }

    function renderTable(data){
      const tb = document.getElementById("tbody");
      tb.innerHTML = "";
      data.forEach(m=>{
        const tr = document.createElement("tr");
        tr.innerHTML = `
          <td>${m.id}</td>
          <td>${m.name}</td>
          <td>${m.tags.map(t=>`<span class="chip">${t}</span>`).join("")}</td>
          <td>${m.coach}</td>
          <td>${m.points.toLocaleString()}p</td>
          <td>${m.remain}</td>
          <td>${m.lastVisit}</td>
        `;
        tb.appendChild(tr);
      });
    }

    // Modal
    function openModal(title, html){
      document.getElementById("modalTitle").textContent = title;
      document.getElementById("modalBody").innerHTML = html;
      document.getElementById("modalRoot").style.display = "flex";
    }
    function closeModal(e){
      document.getElementById("modalRoot").style.display = "none";
    }

    // Enter ê²€ìƒ‰
    document.addEventListener("keydown", (e)=>{
      if(e.key==="Enter" && document.activeElement===document.getElementById("search")){
        onSearch();
      }
    });

    // ì‹œì‘
    window.addEventListener("DOMContentLoaded", init);
  </script>
</body>
</html>
